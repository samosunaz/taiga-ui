(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"2DeP":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var o=n("D57K"),i=n("EM62"),r=n("nIj0"),s=n("ZGpP"),c=n("qfHc"),a=n("l4xa"),u=n("Qq0t"),l=n("g6G6"),d=n("kuMc"),p=n("7SLS"),f=n("xVbo"),h=n("YtkY"),m=n("J+dc");let g=(()=>{class e{constructor(e,t,n,o,r,s,c,u,l){this.destroy$=e,this.elementRef=t,this.renderer=n,this.ngZone=o,this.changeDetectorRef=r,this.styles=s,this.imageLoader=c,this.sanitizer=u,this.tuiSanitizer=l,this.focusedChange=new i.EventEmitter,this.pointerEvents="all",this.onTouched=a.EMPTY_FUNCTION,this.onChange=a.EMPTY_FUNCTION,this._value="",this._exampleText="",this._disabled=!1,this.observer=new MutationObserver(()=>{this.update()}),this.renderer.setStyle(this.elementRef.nativeElement,"visibility","hidden")}set exampleText(e){this.setExampleText(e)}get nativeFocusableElement(){return this.documentRef?this.documentRef.body:null}get focused(){return Object(a.isNativeFocused)(this.elementRef.nativeElement)}get documentRef(){return this.elementRef.nativeElement.contentDocument}get computedDocument(){const{contentDocument:e}=this.elementRef.nativeElement;if(!e)throw new Error("Only use computedDocument after load event");return e}onLoad(){this.initDOM(),this.initObserver(),this.initSubscriptions()}onPointer(e){this.pointerEvents=e}writeValue(e){this._value=e,this.documentRef&&(this.renderer.setProperty(this.documentRef.body,"innerHTML",e||""),this.updateHeight())}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._disabled=e,this.documentRef&&this.renderer.setProperty(this.documentRef,"designMode",e?"off":"on")}initDOM(){const e=this.renderer.createElement("style"),t=this.renderer.createText(this.styles);e.type="text/css",e.appendChild(t),this.renderer.addClass(this.computedDocument.body,"tui-editor-socket"),this.renderer.appendChild(this.computedDocument.head,e),this.setDisabledState(this._disabled),this.setExampleText(this._exampleText),this.writeValue(this._value),this.computedDocument.execCommand("defaultParagraphSeparator",!1,"p"),this.renderer.removeStyle(this.elementRef.nativeElement,"visibility")}initObserver(){this.observer.observe(this.computedDocument.body,{characterData:!0,childList:!0,subtree:!0})}initSubscriptions(){this.initInputSubscription(),this.initTabSubscription(),this.initFocusSubscription(),this.initPasteSubscription(),this.initDropSubscription(),this.initImageSubscription()}initInputSubscription(){Object(a.typedFromEvent)(this.computedDocument,"input").pipe(Object(d.a)(this.destroy$)).subscribe(()=>{this.observer.disconnect(),this.update()})}initTabSubscription(){Object(a.typedFromEvent)(this.computedDocument,"keydown").pipe(Object(d.a)(this.destroy$)).subscribe(e=>{if("Tab"!==e.key||!this.elementRef.nativeElement.ownerDocument)return;e.preventDefault();const t=Object(a.getClosestFocusable)(this.elementRef.nativeElement,e.shiftKey,this.elementRef.nativeElement.ownerDocument.body);t&&Object(a.setNativeFocused)(t)})}initFocusSubscription(){this.computedDocument.defaultView&&Object(l.a)(Object(a.typedFromEvent)(this.computedDocument.defaultView,"blur").pipe(Object(p.a)(!1)),Object(a.typedFromEvent)(this.computedDocument.defaultView,"focus").pipe(Object(p.a)(!0))).pipe(Object(d.a)(this.destroy$)).subscribe(e=>{e||this.onTouched(),this.focusedChange.emit(e),this.markForCheck()})}initPasteSubscription(){Object(a.typedFromEvent)(this.computedDocument,"paste").pipe(Object(d.a)(this.destroy$),Object(f.a)(e=>!e.clipboardData||-1===e.clipboardData.types.indexOf("Files")),Object(a.preventDefault)(),Object(h.a)(e=>this.sanitize(Object(a.getClipboardDataText)(e,"text/html")))).subscribe(e=>{Object(c.k)(this.computedDocument,e)})}initDropSubscription(){Object(a.typedFromEvent)(this.computedDocument,"drop").pipe(Object(f.a)(e=>!!e.dataTransfer),Object(d.a)(this.destroy$),Object(a.preventDefault)()).subscribe(e=>{this.setSelectionAt(e.x,e.y),-1!==Array.prototype.indexOf.call(e.dataTransfer.types,"Files")?this.handleImageDrop(e.dataTransfer):Object(c.k)(this.computedDocument,this.sanitize(e.dataTransfer.getData("text/html")))})}initImageSubscription(){Object(a.typedFromEvent)(this.computedDocument,"load",{capture:!0}).pipe(Object(d.a)(this.destroy$)).subscribe(()=>{this.updateHeight()})}setExampleText(e){this._exampleText=e,this.documentRef&&this.renderer.setAttribute(this.documentRef.body,"aria-placeholder",e)}handleImageDrop(e){for(let t=0;t<e.files.length;t++){const n=e.files.item(t);if(n&&n.type.startsWith("image/")){this.imageLoader(n).pipe(Object(m.a)(1),Object(d.a)(this.destroy$)).subscribe(e=>{this.addImage(e)});break}}}addImage(e){this.computedDocument.execCommand("insertImage",!1,e)}update(){this.updateValue(),this.updateHeight(),this.markForCheck()}updateValue(){this._value=this.computedDocument.body.innerHTML,this.onChange(this._value)}updateHeight(){if(!this.documentRef)return;const e=this.documentRef.createRange();e.selectNodeContents(this.documentRef.body),this.renderer.setAttribute(this.elementRef.nativeElement,"height",String(e.getBoundingClientRect().height+26))}setSelectionAt(e,t){if(!this.computedDocument.caretRangeFromPoint&&!this.computedDocument.caretPositionFromPoint){const n=this.computedDocument.body.createTextRange();return n.moveToPoint(e,t),void n.select()}const n=this.computedDocument.caretRangeFromPoint?this.computedDocument.caretRangeFromPoint(e,t):this.computedDocument.createRange();if(!this.computedDocument.caretRangeFromPoint){const o=this.computedDocument.caretPositionFromPoint(e,t);if(!o)return;const{offsetNode:i,offset:r}=o;n.setStart(i,r),n.setEnd(i,r)}const{defaultView:o}=this.computedDocument,i=o?o.getSelection():null;o&&i&&(i.removeAllRanges(),i.addRange(n))}sanitize(e){return(this.tuiSanitizer?this.tuiSanitizer.sanitize(i.SecurityContext.HTML,e):this.sanitizer.sanitize(i.SecurityContext.HTML,e))||""}markForCheck(){this.ngZone.run(()=>{this.changeDetectorRef.markForCheck()})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](a.TuiDestroyService),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](s.b),i["\u0275\u0275directiveInject"](s.d),i["\u0275\u0275directiveInject"](i.Sanitizer),i["\u0275\u0275directiveInject"](u.TUI_SANITIZER,8))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["iframe","tuiDesignMode",""]],hostVars:2,hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("load",(function(){return t.onLoad()}))("mousedown",(function(){return t.onPointer("none")}),!1,i["\u0275\u0275resolveDocument"])("mouseup",(function(){return t.onPointer("all")}),!1,i["\u0275\u0275resolveDocument"]),2&e&&i["\u0275\u0275styleProp"]("pointer-events",t.pointerEvents)},inputs:{exampleText:"exampleText"},outputs:{focusedChange:"focusedChange"},exportAs:["tuiDesignMode"],features:[i["\u0275\u0275ProvidersFeature"]([a.TuiDestroyService,{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)(()=>e),multi:!0},{provide:a.TUI_FOCUSABLE_ITEM_ACCESSOR,useExisting:Object(i.forwardRef)(()=>e)}])]}),Object(o.a)([Object(a.tuiRequiredSetter)()],e.prototype,"exampleText",null),e})()},"3FOu":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var o=n("D57K"),i=n("EM62"),r=n("qfHc"),s=n("l4xa"),c=n("TjIJ"),a=n("2wTY"),u=n("SUM+"),l=n("gEyt"),d=n("nIj0"),p=n("fP8s"),f=n("2kYt"),h=n("okGw"),m=n("cVyY"),g=n("xcN3"),b=n("luNI"),v=n("WVof"),x=n("K506"),C=n("KzL3");function y(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"button",6),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("value",e),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e," ")}}function w(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tui-data-list"),i["\u0275\u0275template"](1,y,2,2,"button",5),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.modes)}}function k(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tui-primitive-textfield",7),i["\u0275\u0275listener"]("valueChange",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onHexChange(t)})),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("textMask",e.hexMask)("tuiTextfieldLabelOutside",!0)("tuiTextfieldMaxLength",6)("value",e.hex)}}function E(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tui-input-count",8),i["\u0275\u0275listener"]("ngModelChange",(function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]();return n.onRgbChange(t,n.color[1],n.color[2],n.color[3])})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](1,"tui-input-count",8),i["\u0275\u0275listener"]("ngModelChange",(function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]();return n.onRgbChange(n.color[0],t,n.color[2],n.color[3])})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"tui-input-count",8),i["\u0275\u0275listener"]("ngModelChange",(function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]();return n.onRgbChange(n.color[0],n.color[1],t,n.color[3])})),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("tuiTextfieldLabelOutside",!0)("hideButtons",!0)("max",255)("ngModel",e.color[0]),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("tuiTextfieldLabelOutside",!0)("hideButtons",!0)("max",255)("ngModel",e.color[1]),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("tuiTextfieldLabelOutside",!0)("hideButtons",!0)("max",255)("ngModel",e.color[2])}}let O=(()=>{class e{constructor(){this.color=[0,0,0,1],this.colorChange=new i.EventEmitter,this.hexMask={mask:({length:e})=>Array.from({length:e},()=>/\d|[a-f]|[A-F]/),guide:!1},this.modes=["HEX","RGB"],this.mode=this.modes[0]}get isHex(){return this.mode===this.modes[0]}get hex(){return Object(r.h)(this.color[0],this.color[1],this.color[2])}get opacity(){return 100*this.color[3]}onHexChange(e){if(6!==e.length)return;const t=Object(r.c)(e);this.updateColor([t[0],t[1],t[2],this.color[3]])}onRgbChange(...e){this.updateColor(e)}updateColor(e){this.color=e,this.colorChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-color-edit"]],inputs:{color:"color"},outputs:{colorChange:"colorChange"},decls:6,vars:8,consts:[["tuiTextfieldSize","m","tuiDropdownAlign","left","tuiDropdownLimitWidth","min",1,"select","tui-group__auto-width-item",3,"tuiTextfieldLabelOutside","ngModel","ngModelChange"],[4,"tuiDataList"],["tuiValueAccessor","","tuiTextfieldSize","m",3,"textMask","tuiTextfieldLabelOutside","tuiTextfieldMaxLength","value","valueChange",4,"ngIf","ngIfElse"],["rgb",""],["postfix","%","tuiTextfieldSize","m",1,"opacity","tui-group__auto-width-item",3,"tuiTextfieldLabelOutside","hideButtons","max","ngModel","ngModelChange"],["size","xs","tuiOption","",3,"value",4,"ngFor","ngForOf"],["size","xs","tuiOption","",3,"value"],["tuiValueAccessor","","tuiTextfieldSize","m",3,"textMask","tuiTextfieldLabelOutside","tuiTextfieldMaxLength","value","valueChange"],["tuiTextfieldSize","m",3,"tuiTextfieldLabelOutside","hideButtons","max","ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tui-select",0),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.mode=e})),i["\u0275\u0275template"](1,w,2,1,"tui-data-list",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,k,1,4,"tui-primitive-textfield",2),i["\u0275\u0275template"](3,E,3,12,"ng-template",null,3,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementStart"](5,"tui-input-count",4),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.onRgbChange(t.color[0],t.color[1],t.color[2],e/100)})),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275reference"](4);i["\u0275\u0275property"]("tuiTextfieldLabelOutside",!0)("ngModel",t.mode),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.isHex)("ngIfElse",e),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("tuiTextfieldLabelOutside",!0)("hideButtons",!0)("max",100)("ngModel",t.opacity)}},directives:[c.a,a.b,u.a,l.b,d.NgControlStatus,d.NgModel,p.a,f.t,h.a,m.a,f.s,g.a,b.a,v.a,x.MaskedInputDirective,C.b],styles:["[_nghost-%COMP%]{display:flex}.select[_ngcontent-%COMP%]{width:4.875rem}.opacity[_ngcontent-%COMP%]{width:3.875rem}"],changeDetection:0}),Object(o.a)([Object(s.tuiDefaultProp)()],e.prototype,"color",void 0),e})()},"9Zcw":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("D57K"),i=n("EM62"),r=n("9cW9"),s=n("l4xa");let c=(()=>{class e{constructor(e){this.value=0,this.valueChange=new i.EventEmitter,e.subscribe(([e])=>{this.value=e,this.valueChange.emit(e)})}get left(){return 100*this.value}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-linear-picker"]],inputs:{value:"value"},outputs:{valueChange:"valueChange"},features:[i["\u0275\u0275ProvidersFeature"]([s.TuiDestroyService,r.a])],decls:1,vars:2,consts:[[1,"circle"]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"div",0),2&e&&i["\u0275\u0275styleProp"]("left",t.left,"%")},styles:["[_nghost-%COMP%]{position:relative;display:block;height:1rem;box-sizing:border-box}.circle[_ngcontent-%COMP%]{position:absolute;width:1rem;height:1rem;border-radius:100%;margin:0 -.5rem;box-shadow:inset 0 0 0 2px var(--tui-base-01),0 0 0 1px var(--tui-base-03)}"],changeDetection:0}),Object(o.a)([Object(s.tuiDefaultProp)()],e.prototype,"value",void 0),e})()},"9cW9":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n("2kYt"),i=n("EM62"),r=n("qfHc"),s=n("l4xa"),c=n("IdLP"),a=n("TLy2"),u=n("YtkY"),l=n("kuMc"),d=n("jIqt");let p=(()=>{class e extends c.a{constructor(e,{nativeElement:t},n){const o=Object(s.typedFromEvent)(t,"mousedown").pipe(Object(s.preventDefault)(),Object(a.a)(e=>{const o=Object(s.typedFromEvent)(n,"mousemove").pipe(Object(u.a)(({clientX:e,clientY:n})=>Object(r.a)(e,n,t)),Object(l.a)(Object(s.typedFromEvent)(n,"mouseup")));return e.target===t?o.pipe(Object(d.a)(Object(r.a)(e.clientX,e.clientY,t))):o}),Object(l.a)(e));super(e=>o.subscribe(e))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](s.TuiDestroyService),i["\u0275\u0275inject"](i.ElementRef),i["\u0275\u0275inject"](o.e))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})()},ACCV:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n("UeI1");var o=n("2kYt"),i=n("Qq0t"),r=n("EM62");let s=(()=>{class e{}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c,i.TuiHintModule,i.TuiDescribedByModule]]}),e})()},IR5z:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o=function(e){return e.Undo="undo",e.Size="fontSize",e.Bold="bold",e.Italic="italic",e.Underline="underline",e.Strikethrough="strikeThrough",e.Align="justify",e.List="list",e.Quote="quote",e.Color="foreColor",e.Hilite="hiliteColor",e.Clear="clear",e.Link="link",e.Attach="attach",e.Tex="tex",e.Code="code",e.Img="image",e.HR="insertHorizontalRule",e.Sup="superscript",e.Sub="subscript",e}({})},JuXl:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("D57K"),i=n("EM62"),r=n("9cW9"),s=n("l4xa");let c=(()=>{class e{constructor(e){this.value=[0,0],this.valueChange=new i.EventEmitter,e.subscribe(e=>{this.value=e,this.valueChange.emit([e[0],e[1]])})}get left(){return 100*this.value[0]}get top(){return 100*this.value[1]}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-flat-picker"]],inputs:{value:"value"},outputs:{valueChange:"valueChange"},features:[i["\u0275\u0275ProvidersFeature"]([s.TuiDestroyService,r.a])],decls:1,vars:4,consts:[[1,"circle"]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"div",0),2&e&&i["\u0275\u0275styleProp"]("left",t.left,"%")("top",t.top,"%")},styles:["[_nghost-%COMP%]{position:relative;display:block}.circle[_ngcontent-%COMP%]{position:absolute;width:1rem;height:1rem;border-radius:100%;margin:-.5rem 0 0 -.5rem;box-shadow:inset 0 0 0 1px var(--tui-base-01),0 0 0 .0625rem var(--tui-base-03)}"],changeDetection:0}),Object(o.a)([Object(s.tuiDefaultProp)()],e.prototype,"value",void 0),e})()},MQ7l:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var o=n("2kYt"),i=n("EM62"),r=n("l4xa"),s=n("Qq0t"),c=n("o9ES"),a=n("oW5P"),u=n("nIj0"),l=n("ONKv"),d=n("zV1d"),p=n("yZWP");function f(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"label",2),i["\u0275\u0275text"](2," URL "),i["\u0275\u0275elementStart"](3,"span",3),i["\u0275\u0275text"](4),i["\u0275\u0275elementStart"](5,"tui-input-inline",4),i["\u0275\u0275listener"]("ngModelChange",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onChange(t)}))("keydown.enter",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onSave()}))("keydown.backspace",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onBackspace()})),i["\u0275\u0275text"](6," example.com "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"tui-svg",5),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onClear()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"button",6),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onSave()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",e.prefix," "),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("input_filled",e.hasUrl),i["\u0275\u0275property"]("ngModel",e.url),i["\u0275\u0275advance"](2),i["\u0275\u0275classProp"]("cleaner_hidden",!e.hasUrl)}}function h(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"a",7),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"button",8),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onEdit()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",9),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onRemove()})),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("href",e.href,i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.shortUrl," ")}}let m=(()=>{class e{constructor(e,t){this.addLink=new i.EventEmitter,this.removeLink=new i.EventEmitter,this.prefix="http://";const n=(t||e).getSelection();this.url=n?this.getHref(n):"",this.edit=!this.url}get hasUrl(){return!!this.url}get href(){return`${this.prefix}${this.url}`}get shortUrl(){return this.url.length<60?this.url:this.url.substr(0,40)+"..."+this.url.substr(this.url.length-10)}onMouseDown(e){const t=e.target instanceof HTMLElement?e.target.tagName.toLowerCase():"";"a"!==t&&"button"!==t&&"input"!==t&&e.preventDefault()}onSave(){this.url?this.addLink.emit(this.href):this.removeLink.emit()}onBackspace(){this.url||(this.prefix="http://")}onEdit(){this.edit=!0}onRemove(){this.removeLink.emit()}onChange(e){this.url=this.removePrefix(e)}onClear(){this.url=""}getHref({focusNode:e}){if(!e||!e.parentElement)return"";const t=Object(r.getClosestElement)(e.parentElement,"a");return t?this.removePrefix(t.getAttribute("href")||""):""}removePrefix(e){return e.startsWith("http://")?(this.prefix="http://",e.replace("http://","")):e.startsWith("https://")?(this.prefix="https://",e.replace("https://","")):e}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.e),i["\u0275\u0275directiveInject"](s.TUI_DOCUMENT_OR_SHADOW_ROOT,8))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-edit-link"]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("mousedown",(function(e){return t.onMouseDown(e)}))},outputs:{addLink:"addLink",removeLink:"removeLink"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["view",""],[1,"label"],[1,"url"],["tuiAutoFocus","",1,"input",3,"ngModel","ngModelChange","keydown.enter","keydown.backspace"],["src","tuiIconCloseLarge",1,"cleaner",3,"click"],["tuiIconButton","","type","button","size","s","title","Insert link","icon","tuiIconCheckCircleLarge","shape","rounded","appearance","icon",1,"button",3,"click"],["tuiLink","","target","_blank",1,"link",3,"href"],["tuiIconButton","","type","button","size","s","title","Change link","icon","tuiIconEditLarge","shape","rounded","appearance","icon",1,"button",3,"click"],["tuiIconButton","","type","button","size","s","title","Remove link","icon","tuiIconTrashLarge","shape","rounded","appearance","icon",1,"button",3,"click"]],template:function(e,t){if(1&e&&(i["\u0275\u0275template"](0,f,9,6,"ng-container",0),i["\u0275\u0275template"](1,h,4,2,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"])),2&e){const e=i["\u0275\u0275reference"](2);i["\u0275\u0275property"]("ngIf",t.edit)("ngIfElse",e)}},directives:[o.t,c.a,a.a,u.NgControlStatus,u.NgModel,l.a,d.a,p.a],styles:["[_nghost-%COMP%]{display:flex;align-items:center;padding-right:.75rem}.label[_ngcontent-%COMP%], [_nghost-%COMP%]{height:var(--tui-height-l)}.label[_ngcontent-%COMP%]{font:var(--tui-font-text-s);box-sizing:border-box;padding:.4375rem 1rem;min-width:12.5rem;max-width:25rem}.url[_ngcontent-%COMP%]{font:var(--tui-font-text-m);display:flex;color:var(--tui-text-02)}.input[_ngcontent-%COMP%]{flex:1}.input_filled[_ngcontent-%COMP%]{color:var(--tui-text-01)}.button[_ngcontent-%COMP%]{width:2rem;height:2rem;margin:0 .25rem;transition:background .2s}.link[_ngcontent-%COMP%]{margin:0 1rem}.cleaner[_ngcontent-%COMP%]{transition-property:color;transition-duration:var(--tui-duration,.3s);transition-timing-function:ease-in-out;color:var(--tui-base-06);cursor:pointer}.cleaner[_ngcontent-%COMP%]:hover{color:var(--tui-base-07)}.cleaner_hidden[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0}),e})()},"N+cQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n("JuXl");var o=n("2kYt"),i=n("EM62");let r=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c]]}),e})()},O7x8:function(e,t,n){"use strict";n.d(t,"a",(function(){return o.a})),n.d(t,"b",(function(){return r}));var o=n("2DeP"),i=n("EM62");let r=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e})()},OXFH:function(e,t,n){"use strict";n.d(t,"a",(function(){return fe}));var o=n("D57K"),i=n("2kYt"),r=n("EM62"),s=n("9qw2"),c=n("ssuq"),a=n("IR5z"),u=n("ZGpP"),l=n("qfHc"),d=n("l4xa"),p=n("Qq0t"),f=n("dvRg"),h=n("g6G6"),m=n("kuMc"),g=n("J+dc"),b=n("vfve"),v=n("zV1d"),x=n("fHzR"),C=n("tNxS"),y=n("q7Lq"),w=n("cVyY"),k=n("xcN3"),E=n("MQ7l"),O=n("SUM+"),I=n("RZBz"),M=n("4hRd");const S=["button"],D=["dropdown"];function R(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275elementStart"](1,"button",3,4),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().undo()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"button",5,6),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().redo()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](3),t=r["\u0275\u0275reference"](6),n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("tuiHint",n.texts.undo)("tuiHintId",e.id)("tuiDescribedBy",e.id)("disabled",n.undoDisabled)("focusable",!1),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("tuiHint",n.texts.redo)("tuiHintId",t.id)("tuiDescribedBy",t.id)("disabled",n.redoDisabled)("focusable",!1)}}function P(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",14),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](3).onFont(n.size)})),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;r["\u0275\u0275styleProp"]("font-family",e.family)("font-size",e.px,"px"),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function _(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"tui-data-list",null,12),r["\u0275\u0275template"](2,P,2,5,"button",13),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",e.fontsOptions)}}function T(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275elementStart"](1,"tui-hosted-dropdown",7,8),r["\u0275\u0275elementStart"](3,"button",9,10),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onArrowRight()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](6,_,3,1,"ng-template",null,11,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](2),t=r["\u0275\u0275reference"](5),n=r["\u0275\u0275reference"](7),o=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("content",n),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",o.texts.font)("tuiHintId",t.id)("tuiDescribedBy",t.id)("pseudoPressed",e.open)("focusable",e.open)}}function L(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",28),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](4).toggleBold()})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"](4);r["\u0275\u0275property"]("tuiHint",e.texts.bold)("pseudoPressed",e.bold)}}function j(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",29),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](4).toggleItalic()})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"](4);r["\u0275\u0275property"]("tuiHint",e.texts.italic)("pseudoPressed",e.italic)}}function H(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",30),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](4).toggleUnderline()})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"](4);r["\u0275\u0275property"]("tuiHint",e.texts.underline)("pseudoPressed",e.underline)}}function V(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",31),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](4).toggleStrikeThrough()})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"](4);r["\u0275\u0275property"]("tuiHint",e.texts.strikeThrough)("pseudoPressed",e.strikeThrough)}}function z(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",23,12),r["\u0275\u0275template"](2,L,1,2,"button",24),r["\u0275\u0275template"](3,j,1,2,"button",25),r["\u0275\u0275template"](4,H,1,2,"button",26),r["\u0275\u0275template"](5,V,1,2,"button",27),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",e.enabled(e.TuiEditorTool.Bold)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.enabled(e.TuiEditorTool.Italic)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.enabled(e.TuiEditorTool.Underline)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.enabled(e.TuiEditorTool.Strikethrough))}}function B(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-hosted-dropdown",7,19),r["\u0275\u0275elementStart"](2,"button",20,21),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowRight()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](5,z,6,4,"ng-template",null,22,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](1),t=r["\u0275\u0275reference"](4),n=r["\u0275\u0275reference"](6),o=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("content",n),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",o.texts.fontStyle)("tuiHintId",t.id)("tuiDescribedBy",t.id)("pseudoPressed",e.open||o.bold||o.italic||o.underline||o.strikeThrough)("focusable",e.open)}}function F(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",23,12),r["\u0275\u0275elementStart"](2,"button",36),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](3).onAlign("justifyLeft")})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"button",37),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](3).onAlign("justifyCenter")})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"button",38),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](3).onAlign("justifyRight")})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"button",39),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](3).onAlign("justifyFull")})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",e.texts.justifyLeft),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("tuiHint",e.texts.justifyCenter),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("tuiHint",e.texts.justifyRight),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("tuiHint",e.texts.justifyFull)}}function A(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-hosted-dropdown",7,32),r["\u0275\u0275elementStart"](2,"button",33,34),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowRight()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](5,F,6,4,"ng-template",null,35,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](1),t=r["\u0275\u0275reference"](4),n=r["\u0275\u0275reference"](6),o=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("content",n),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",o.texts.justify)("tuiHintId",t.id)("tuiDescribedBy",t.id)("pseudoPressed",e.open)("focusable",e.open)}}function N(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",23,12),r["\u0275\u0275elementStart"](2,"button",44),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](3).toggleUnorderedList()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"button",45),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](3).toggleOrderedList()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"button",46),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](3).indent()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"button",47),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](3).outdent()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",e.texts.unorderedList)("pseudoPressed",e.unorderedList),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("tuiHint",e.texts.orderedList)("pseudoPressed",e.orderedList),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("tuiHint",e.texts.indent)("disabled",!e.unorderedList&&!e.orderedList),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("tuiHint",e.texts.outdent)("disabled",!e.unorderedList&&!e.orderedList)}}function q(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-hosted-dropdown",7,40),r["\u0275\u0275elementStart"](2,"button",41,42),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowRight()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](5,N,6,8,"ng-template",null,43,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](1),t=r["\u0275\u0275reference"](4),n=r["\u0275\u0275reference"](6),o=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("content",n),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",o.texts.list)("tuiHintId",t.id)("tuiDescribedBy",t.id)("pseudoPressed",e.open||o.unorderedList||o.orderedList)("focusable",e.open)}}function U(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",48,49),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).toggleQuote()})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](2),t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("tuiHint",t.texts.quote)("tuiHintId",e.id)("tuiDescribedBy",e.id)("pseudoPressed",t.blockquote)("disabled",t.unorderedList||t.orderedList)("focusable",!1)}}function Q(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-edit-link",55,12),r["\u0275\u0275listener"]("addLink",(function(t){r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]();const n=r["\u0275\u0275reference"](1);return r["\u0275\u0275nextContext"](2).onLink(n,t)}))("removeLink",(function(){r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]();const t=r["\u0275\u0275reference"](1);return r["\u0275\u0275nextContext"](2).onLink(t)})),r["\u0275\u0275elementEnd"]()}}function $(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-hosted-dropdown",50,51),r["\u0275\u0275elementStart"](2,"button",52,53),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onLinkClick()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](5,Q,2,0,"ng-template",null,54,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](1),t=r["\u0275\u0275reference"](4),n=r["\u0275\u0275reference"](6),o=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("canOpen",!o.a)("content",n),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",o.texts.link)("tuiHintId",t.id)("tuiDescribedBy",t.id)("pseudoPressed",e.open||o.a)("focusable",e.open)}}function Y(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",56,57),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onAttach()})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](2),t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("tuiHint",t.texts.attach)("tuiHintId",e.id)("tuiDescribedBy",e.id)("focusable",!1)}}function Z(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275template"](1,B,7,6,"tui-hosted-dropdown",15),r["\u0275\u0275template"](2,A,7,6,"tui-hosted-dropdown",15),r["\u0275\u0275template"](3,q,7,6,"tui-hosted-dropdown",15),r["\u0275\u0275template"](4,U,3,6,"button",16),r["\u0275\u0275template"](5,$,7,7,"tui-hosted-dropdown",17),r["\u0275\u0275template"](6,Y,3,4,"button",18),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.formatEnabled),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.enabled(e.TuiEditorTool.Align)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.enabled(e.TuiEditorTool.List)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.enabled(e.TuiEditorTool.Quote)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.enabled(e.TuiEditorTool.Link)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.enabled(e.TuiEditorTool.Attach))}}function G(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",60,61),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).toggleSubscript()})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](2),t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("tuiHint",t.texts.subscript)("tuiHintId",e.id)("tuiDescribedBy",e.id)("pseudoPressed",t.subscript)("focusable",!1)}}function K(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",62,63),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).toggleSuperscript()})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](2),t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("tuiHint",t.texts.superscript)("tuiHintId",e.id)("tuiDescribedBy",e.id)("pseudoPressed",t.superscript)("focusable",!1)}}function W(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275template"](1,G,3,5,"button",58),r["\u0275\u0275template"](2,K,3,5,"button",59),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.enabled(e.TuiEditorTool.Sub)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.enabled(e.TuiEditorTool.Sup))}}function X(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-color-selector",71),r["\u0275\u0275listener"]("colorChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](3).setForeColor(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](3);r["\u0275\u0275property"]("tuiActiveZoneParent",e)("colors",n.colors)("color",n.foreColor)}}function J(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-hosted-dropdown",65,66),r["\u0275\u0275elementStart"](2,"button",67,68),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowRight()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](5,"div",69),r["\u0275\u0275template"](6,X,1,3,"ng-template",null,70,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](1),t=r["\u0275\u0275reference"](4),n=r["\u0275\u0275reference"](7),o=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("content",n)("tuiDropdownMaxHeight",999),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",o.texts.foreColor)("tuiHintId",t.id)("tuiDescribedBy",t.id)("pseudoPressed",e.open)("focusable",e.open),r["\u0275\u0275advance"](3),r["\u0275\u0275styleProp"]("background",o.foreColor,r["\u0275\u0275defaultStyleSanitizer"])}}function ee(e,t){if(1&e&&r["\u0275\u0275element"](0,"div",69),2&e){const e=r["\u0275\u0275nextContext"](3);r["\u0275\u0275styleProp"]("background",e.hiliteColor,r["\u0275\u0275defaultStyleSanitizer"])}}function te(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-color-selector",71),r["\u0275\u0275listener"]("colorChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](3).setHiliteColor(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](3);r["\u0275\u0275property"]("tuiActiveZoneParent",e)("colors",n.colors)("color",n.hiliteColor)}}function ne(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-hosted-dropdown",65,72),r["\u0275\u0275elementStart"](2,"button",73,74),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowRight()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](5,ee,1,2,"div",75),r["\u0275\u0275template"](6,te,1,3,"ng-template",null,76,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](1),t=r["\u0275\u0275reference"](4),n=r["\u0275\u0275reference"](7),o=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("content",n)("tuiDropdownMaxHeight",999),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",o.texts.backColor)("tuiHintId",t.id)("tuiDescribedBy",t.id)("pseudoPressed",e.open)("focusable",e.open),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",!o.hiliteColorBlank)}}function oe(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275template"](1,J,8,9,"tui-hosted-dropdown",64),r["\u0275\u0275template"](2,ne,8,8,"tui-hosted-dropdown",64),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.enabled(e.TuiEditorTool.Color)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.enabled(e.TuiEditorTool.Hilite))}}function ie(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",14),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](4).onCode(n)})),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",e," ")}}function re(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"tui-data-list",null,12),r["\u0275\u0275template"](2,ie,2,1,"button",84),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",e.codesOptions)}}function se(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-hosted-dropdown",7,80),r["\u0275\u0275elementStart"](2,"button",81,82),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowRight()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](5,re,3,1,"ng-template",null,83,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](1),t=r["\u0275\u0275reference"](4),n=r["\u0275\u0275reference"](6),o=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("content",n),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",o.texts.code)("tuiHintId",t.id)("tuiDescribedBy",t.id)("pseudoPressed",e.open||o.code||o.pre)("focusable",e.open)}}function ce(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",85,86),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onTeX()})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](2),t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("tuiHint",t.texts.tex)("tuiHintId",e.id)("tuiDescribedBy",e.id)("focusable",!1)}}function ae(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",87),r["\u0275\u0275elementStart"](1,"input",88,89),r["\u0275\u0275listener"]("change",(function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275reference"](2);return r["\u0275\u0275nextContext"](2).onImage(t)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"button",90,91),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275reference"](2).click()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](4),t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("tuiFocusable",!1),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",t.texts.image)("id",e.id)("tuiHintId",e.id)("focusable",!1)}}function ue(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",92,93),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).insertHorizontalRule()})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](2),t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("tuiHint",t.texts.insertHorizontalRule)("tuiHintId",e.id)("tuiDescribedBy",e.id)("focusable",!1)}}function le(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275template"](1,se,7,6,"tui-hosted-dropdown",15),r["\u0275\u0275template"](2,ce,3,4,"button",77),r["\u0275\u0275template"](3,ae,5,5,"div",78),r["\u0275\u0275template"](4,ue,3,4,"button",79),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.enabled(e.TuiEditorTool.Code)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.enabled(e.TuiEditorTool.Tex)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.enabled(e.TuiEditorTool.Img)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.enabled(e.TuiEditorTool.HR))}}function de(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275elementStart"](1,"button",94,95),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().removeFormat()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](3),t=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("tuiHint",t.texts.clear)("tuiHintId",e.id)("tuiDescribedBy",e.id)("focusable",!1)}}function pe(e){return-1===e.indexOf(a.a.Tex)&&-1===e.indexOf(a.a.Attach)}let fe=(()=>{class e{constructor(e,t,n,o,i,s,u,l,p){this.destroy$=e,this.elementRef=s,this.imageLoader=u,this.userAgent=l,this.texts=p,this.tools=c.c,this.colors=c.a,this.editor=null,this.disabled=!1,this.linkAdded=new r.EventEmitter,this.texClicked=new r.EventEmitter,this.attachClicked=new r.EventEmitter,this.TuiEditorTool=a.a,this.fontsOptions=[{size:"2",px:13,name:"Small"},{size:"3",px:15,name:"Normal"},{size:"4",px:17,name:"Large"},{size:"5",px:24,family:"var(--tui-font-heading)",name:"Subtitle"},{size:"6",px:30,family:"var(--tui-font-heading)",name:"Title"}],this.codesOptions=["Code in the text","Code in block"],this.buttons=d.EMPTY_QUERY,this.dropdowns=d.EMPTY_QUERY,this.range=null,this.documentRef=i||o,Object(h.a)(Object(d.typedFromEvent)(this.documentRef,"selectionchange"),Object(d.typedFromEvent)(this.documentRef,"input")).pipe(Object(m.a)(e)).subscribe(()=>{this.refreshRange(),t.run(()=>{n.markForCheck()})})}get focused(){return Object(d.isNativeFocusedIn)(this.elementRef.nativeElement)||!!this.dropdowns.find(({nativeElement:e})=>Object(d.isNativeFocusedIn)(e))}get focusable(){return!this.focused&&!this.disabled}get firstButton(){const e=this.buttons.find(({nativeFocusableElement:e})=>!!e);return e&&e.nativeFocusableElement?e.nativeFocusableElement:null}get lastButton(){return this.buttons.reduce((e,{nativeFocusableElement:t})=>t||e,null)}get bold(){return this.documentRef.queryCommandState("bold")}get italic(){return this.documentRef.queryCommandState("italic")}get underline(){return this.documentRef.queryCommandState("underline")}get strikeThrough(){return this.documentRef.queryCommandState("strikeThrough")}get unorderedList(){return this.documentRef.queryCommandState("insertUnorderedList")}get orderedList(){return this.documentRef.queryCommandState("insertOrderedList")}get blockquote(){const e=this.documentRef.getSelection();return!!e&&Object(l.e)(e,"blockquote")}get a(){const e=this.documentRef.getSelection();return!!e&&Object(l.e)(e,"a")}get foreColorBlank(){return"rgb(51, 51, 51)"===this.foreColor}get hiliteColorBlank(){const{hiliteColor:e}=this;return!e||String(e)===String(16777215)||"transparent"===e||"rgba(0, 0, 0, 0)"===e||"rgb(0, 0, 0)"===e&&!this.focused}get undoDisabled(){return!this.documentRef.queryCommandEnabled("undo")}get redoDisabled(){return!this.documentRef.queryCommandEnabled("redo")}get code(){return!this.pre&&"Courier"===(this.documentRef.queryCommandValue("fontName")||"").replace(/"/g,"")}get pre(){const e=this.documentRef.getSelection();return!!e&&Object(l.e)(e,"pre")}get subscript(){return this.documentRef.queryCommandState("subscript")}get superscript(){return this.documentRef.queryCommandState("superscript")}get foreColor(){const e=this.documentRef.queryCommandValue("foreColor")||"rgb(51, 51, 51)";return Object(d.isNumber)(e)?this.numberToColor(e):e}get hiliteColor(){if(!Object(d.isFirefox)(this.userAgent)){const e=this.documentRef.queryCommandValue("backColor");return Object(d.isNumber)(e)&&16777215!==e?this.numberToColor(e):e}const e=this.documentRef.getSelection();let t=e&&e.focusNode instanceof HTMLElement?e.focusNode:null;for(;t;){if(t.style&&t.style.backgroundColor)return t.style.backgroundColor;t=t.parentElement}return""}get formatEnabled(){return this.enabled(a.a.Bold)||this.enabled(a.a.Italic)||this.enabled(a.a.Underline)||this.enabled(a.a.Strikethrough)}get firstBigBlockEnabled(){return this.formatEnabled||this.enabled(a.a.Align)||this.enabled(a.a.List)||this.enabled(a.a.Quote)||this.enabled(a.a.Link)||this.enabled(a.a.Attach)}get secondBigBlockEnabled(){return this.enabled(a.a.Code)||this.enabled(a.a.Tex)||this.enabled(a.a.Img)||this.enabled(a.a.HR)}onBottomFocus(){this.focusLast()}onTopFocus(){this.focusFirst()}onArrowLeft(){const e=this.buttons.reduce((e,t,n)=>t.focused?n:e,-1),t=this.buttons.reduce((t,{nativeFocusableElement:n},o)=>o<e&&n?n:t,null);t?Object(d.setNativeFocused)(t):this.focusLast()}onArrowRight(){const e=this.buttons.reduce((e,t,n)=>t.focused?n:e,-1),t=this.buttons.find(({nativeFocusableElement:t},n)=>n>e&&!!t);t&&t.nativeFocusableElement?Object(d.setNativeFocused)(t.nativeFocusableElement):this.focusFirst()}onFont(e){this.focusEditor(),this.documentRef.execCommand("fontSize",!1,e)}onAlign(e){this.focusEditor(),this.documentRef.execCommand(e)}onImage(e){const t=e.files&&e.files[0];t&&this.imageLoader(t).pipe(Object(g.a)(1),Object(m.a)(this.destroy$)).subscribe(e=>{this.addImage(e)}),e.value=""}onAttach(){this.attachClicked.emit()}onTeX(){this.texClicked.emit()}onLinkClick(){this.focusEditor()}onLink(e,t){e.open=!1,t&&this.linkAdded.emit(t)}onCode(e){this.codesOptions[0]===e?this.toggleCode():this.togglePre()}enabled(e){return-1!==this.tools.indexOf(e)}undo(){this.focusEditor(),this.documentRef.execCommand("undo")}redo(){this.focusEditor(),this.documentRef.execCommand("redo")}indent(){this.focusEditor(),this.documentRef.execCommand("indent")}outdent(){this.focusEditor(),this.documentRef.execCommand("outdent")}insertHorizontalRule(){this.focusEditor(),this.documentRef.execCommand("insertHorizontalRule")}removeFormat(){this.focusEditor(),this.documentRef.execCommand("removeFormat")}setForeColor(e){this.focusEditor(),this.documentRef.execCommand("foreColor",!1,e)}setHiliteColor(e){this.focusEditor(),this.documentRef.execCommand("hiliteColor",!1,e)}toggleBold(){this.focusEditor(),this.documentRef.execCommand("bold")}toggleItalic(){this.focusEditor(),this.documentRef.execCommand("italic")}toggleUnderline(){this.focusEditor(),this.documentRef.execCommand("underline")}toggleStrikeThrough(){this.focusEditor(),this.documentRef.execCommand("strikeThrough")}toggleOrderedList(){this.focusEditor(),this.documentRef.execCommand("insertOrderedList")}toggleUnorderedList(){this.focusEditor(),this.documentRef.execCommand("insertUnorderedList")}toggleQuote(){this.blockquote?this.outdent():this.indent()}toggleSubscript(){this.focusEditor(),this.documentRef.execCommand("subscript")}toggleSuperscript(){this.focusEditor(),this.documentRef.execCommand("superscript")}toggleCode(){this.focusEditor(),this.documentRef.execCommand("fontName",!1,this.code?"haas, helvetica, arial, sans-serif":"Courier")}togglePre(){const e=this.documentRef.getSelection();if(!e||e.isCollapsed||!this.pre)return void this.documentRef.execCommand("formatBlock",!1,this.pre?"<P>":"<PRE>");const t=Array.prototype.slice.call(e.getRangeAt(0).cloneContents().childNodes).map(e=>{if(!e.tagName||"pre"!==e.tagName.toLowerCase())return e;const t=this.documentRef.createElement("p");return t.innerHTML=e.innerHTML,t}).reduce((e,t)=>e+(t.outerHTML||t.nodeValue),"");Object(l.k)(this.documentRef,t),this.focusEditor()}addImage(e){this.focusEditor(),this.documentRef.execCommand("insertImage",!1,e)}focusFirst(){const{firstButton:e}=this;e&&Object(d.setNativeFocused)(e)}focusLast(){const{lastButton:e}=this;e&&Object(d.setNativeFocused)(e)}refreshRange(){const e=this.documentRef.defaultView?this.documentRef.defaultView.getSelection():null;e&&this.editor&&this.editor.contains(e.anchorNode)&&this.editor.contains(e.focusNode)&&(this.range=e.getRangeAt(0))}restoreRange(){const e=this.documentRef.defaultView?this.documentRef.defaultView.getSelection():null;e&&this.range&&this.editor&&!this.editor.contains(e.anchorNode)&&!this.editor.contains(e.focusNode)&&(e.removeAllRanges(),e.addRange(this.range))}focusEditor(){this.restoreRange(),this.editor?Object(d.setNativeFocused)(this.editor,!0,!0):Object(d.setNativeFocused)(this.documentRef.body,!0,!0)}numberToColor(e){return`rgb(${255&e}, ${(65280&e)>>8}, ${(16711680&e)>>16})`}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](d.TuiDestroyService),r["\u0275\u0275directiveInject"](r.NgZone),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef),r["\u0275\u0275directiveInject"](i.e),r["\u0275\u0275directiveInject"](p.TUI_DOCUMENT_OR_SHADOW_ROOT,8),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](u.d),r["\u0275\u0275directiveInject"](s.g),r["\u0275\u0275directiveInject"](u.c))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-toolbar"]],viewQuery:function(e,t){var n;1&e&&(r["\u0275\u0275viewQuery"](S,!0),r["\u0275\u0275viewQuery"](D,!0,r.ElementRef)),2&e&&(r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.buttons=n),r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.dropdowns=n))},hostAttrs:["role","toolbar",1,"tui-zero-scrollbar"],hostVars:2,hostBindings:function(e,t){2&e&&r["\u0275\u0275classProp"]("_disabled",t.disabled)},inputs:{tools:"tools",colors:"colors",editor:"editor",disabled:"disabled"},outputs:{linkAdded:"linkAdded",texClicked:"texClicked",attachClicked:"attachClicked"},features:[r["\u0275\u0275ProvidersFeature"]([d.TuiDestroyService,f.LEFT_ALIGNED_DROPDOWN_CONTROLLER_PROVIDER])],decls:9,vars:9,consts:[[3,"tuiFocusable","focus"],["class","block",4,"ngIf"],[1,"block"],["tuiIconButton","","type","button","size","s","icon","tuiIconUndoLarge","appearance","icon","tuiHintDirection","top-left",1,"button","button_margin",3,"tuiHint","tuiHintId","tuiDescribedBy","disabled","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button","","undoBtn",""],["tuiIconButton","","type","button","size","s","icon","tuiIconRedoLarge","appearance","icon","tuiHintDirection","top-left",1,"button","button_margin",3,"tuiHint","tuiHintId","tuiDescribedBy","disabled","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button","","redoBtn",""],[1,"wrapper",3,"content"],["fonts",""],["tuiIconButton","","type","button","size","s","appearance","icon","icon","tuiIconFontLarge","tuiHintDirection","top-left",1,"button",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent"],["button","","fontsBtn",""],["fontsDropdown",""],["dropdown",""],["tuiOption","",3,"fontFamily","fontSize","click",4,"ngFor","ngForOf"],["tuiOption","",3,"click"],["class","wrapper",3,"content",4,"ngIf"],["tuiIconButton","","type","button","size","s","icon","tuiIconQuoteLarge","appearance","icon","class","button button_margin","tuiHintDirection","top-left",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","disabled","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click",4,"ngIf"],["class","wrapper",3,"canOpen","content",4,"ngIf"],["tuiIconButton","","type","button","size","s","icon","tuiIconAttachLarge","class","button button_margin","appearance","icon","tuiHintDirection","top-left",3,"tuiHint","tuiHintId","tuiDescribedBy","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click",4,"ngIf"],["format",""],["tuiIconButton","","type","button","size","s","icon","tuiIconFormatLarge","appearance","icon","tuiHintDirection","top-left",1,"button",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent"],["button","","formatBtn",""],["formatDropdown",""],[1,"dropdown"],["tuiIconButton","","type","button","size","s","icon","tuiIconBoldLarge","appearance","icon","class","button button_margin",3,"tuiHint","pseudoPressed","click",4,"ngIf"],["tuiIconButton","","type","button","size","s","icon","tuiIconItalicLarge","appearance","icon","class","button button_margin",3,"tuiHint","pseudoPressed","click",4,"ngIf"],["tuiIconButton","","type","button","size","s","icon","tuiIconUnderlineLarge","appearance","icon","class","button button_margin",3,"tuiHint","pseudoPressed","click",4,"ngIf"],["tuiIconButton","","type","button","size","s","icon","tuiIconStrikeThroughLarge","appearance","icon","class","button button_margin",3,"tuiHint","pseudoPressed","click",4,"ngIf"],["tuiIconButton","","type","button","size","s","icon","tuiIconBoldLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","pseudoPressed","click"],["tuiIconButton","","type","button","size","s","icon","tuiIconItalicLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","pseudoPressed","click"],["tuiIconButton","","type","button","size","s","icon","tuiIconUnderlineLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","pseudoPressed","click"],["tuiIconButton","","type","button","size","s","icon","tuiIconStrikeThroughLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","pseudoPressed","click"],["align",""],["tuiIconButton","","type","button","size","s","icon","tuiIconAlignLeftLarge","appearance","icon","tuiHintDirection","top-left",1,"button",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent"],["button","","alignBtn",""],["alignDropdown",""],["tuiIconButton","","type","button","size","s","icon","tuiIconAlignLeftLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","click"],["tuiIconButton","","type","button","size","s","icon","tuiIconAlignCenterLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","click"],["tuiIconButton","","type","button","size","s","icon","tuiIconAlignRightLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","click"],["tuiIconButton","","type","button","size","s","icon","tuiIconAlignJustifyLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","click"],["list",""],["tuiIconButton","","type","button","size","s","icon","tuiIconViewListLarge","appearance","icon","tuiHintDirection","top-left",1,"button",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent"],["button","","listBtn",""],["listDropdown",""],["tuiIconButton","","type","button","size","s","icon","tuiIconViewListLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","pseudoPressed","click"],["tuiIconButton","","type","button","size","s","icon","tuiIconOLLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","pseudoPressed","click"],["tuiIconButton","","type","button","size","s","icon","tuiIconIndentLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","disabled","click"],["tuiIconButton","","type","button","size","s","icon","tuiIconOutdentLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","disabled","click"],["tuiIconButton","","type","button","size","s","icon","tuiIconQuoteLarge","appearance","icon","tuiHintDirection","top-left",1,"button","button_margin",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","disabled","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button","","quoteBtn",""],[1,"wrapper",3,"canOpen","content"],["link",""],["tuiIconButton","","type","button","size","s","icon","tuiIconLinkLarge","appearance","icon","tuiHintDirection","top-left",1,"button",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button","","linkBtn",""],["linkDropdown",""],[3,"addLink","removeLink"],["tuiIconButton","","type","button","size","s","icon","tuiIconAttachLarge","appearance","icon","tuiHintDirection","top-left",1,"button","button_margin",3,"tuiHint","tuiHintId","tuiDescribedBy","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button","","attachBtn",""],["tuiIconButton","","type","button","size","s","icon","tuiIconSubscriptLarge","appearance","icon","class","button button_margin","tuiHintDirection","top-left",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click",4,"ngIf"],["tuiIconButton","","type","button","size","s","icon","tuiIconSuperscriptLarge","appearance","icon","class","button button_margin","tuiHintDirection","top-left",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click",4,"ngIf"],["tuiIconButton","","type","button","size","s","icon","tuiIconSubscriptLarge","appearance","icon","tuiHintDirection","top-left",1,"button","button_margin",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button","","subBtn",""],["tuiIconButton","","type","button","size","s","icon","tuiIconSuperscriptLarge","appearance","icon","tuiHintDirection","top-left",1,"button","button_margin",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button","","supBtn",""],["class","wrapper",3,"content","tuiDropdownMaxHeight",4,"ngIf"],[1,"wrapper",3,"content","tuiDropdownMaxHeight"],["color",""],["tuiIconButton","","type","button","size","s","icon","tuiIconColorLarge","appearance","icon","tuiHintDirection","top-left",1,"button",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent"],["button","","colorBtn",""],[1,"plate"],["colorDropdown",""],[1,"color-picker",3,"tuiActiveZoneParent","colors","color","colorChange"],["hilite",""],["tuiIconButton","","type","button","size","s","tuiHintDirection","top-left","appearance","icon","icon","tuiIconHiliteLarge",1,"button",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent"],["button","","hiliteBtn",""],["class","plate",3,"background",4,"ngIf"],["hiliteDropdown",""],["tuiIconButton","","type","button","size","s","icon","tuiIconTeXLarge","class","button","appearance","icon","tuiHintDirection","top-left",3,"tuiHint","tuiHintId","tuiDescribedBy","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click",4,"ngIf"],["class","wrapper",4,"ngIf"],["tuiIconButton","","type","button","size","s","icon","tuiIconHrLarge","class","button button_margin","appearance","icon","tuiHintDirection","top-left",3,"tuiHint","tuiHintId","tuiDescribedBy","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click",4,"ngIf"],["codes",""],["tuiIconButton","","type","button","size","s","icon","tuiIconCodeLarge","appearance","icon","tuiHintDirection","top-left",1,"button",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent"],["button","","codeBtn",""],["codesDropdown",""],["tuiOption","",3,"click",4,"ngFor","ngForOf"],["tuiIconButton","","type","button","size","s","icon","tuiIconTeXLarge","appearance","icon","tuiHintDirection","top-left",1,"button",3,"tuiHint","tuiHintId","tuiDescribedBy","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button","","texBtn",""],[1,"wrapper"],["type","file","accept","image/*",1,"image",3,"tuiFocusable","change"],["image",""],["tuiIconButton","","type","button","size","s","icon","tuiIconImgLarge","appearance","icon","tuiHintDirection","top-left",1,"button",3,"tuiHint","id","tuiHintId","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button",""],["tuiIconButton","","type","button","size","s","icon","tuiIconHrLarge","appearance","icon","tuiHintDirection","top-left",1,"button","button_margin",3,"tuiHint","tuiHintId","tuiDescribedBy","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button","","hrBtn",""],["tuiIconButton","","type","button","size","s","icon","tuiIconClearFormatLarge","appearance","icon","tuiHintDirection","top-left",1,"button","button_margin",3,"tuiHint","tuiHintId","tuiDescribedBy","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button","","clearBtn",""]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275listener"]("focus",(function(){return t.onTopFocus()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](1,"div",0),r["\u0275\u0275listener"]("focus",(function(){return t.onBottomFocus()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](2,R,7,10,"div",1),r["\u0275\u0275template"](3,T,8,6,"div",1),r["\u0275\u0275template"](4,Z,7,6,"div",1),r["\u0275\u0275template"](5,W,3,2,"div",1),r["\u0275\u0275template"](6,oe,3,2,"div",1),r["\u0275\u0275template"](7,le,5,4,"div",1),r["\u0275\u0275template"](8,de,4,4,"div",1)),2&e&&(r["\u0275\u0275property"]("tuiFocusable",t.focusable),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("tuiFocusable",t.focusable),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.enabled(t.TuiEditorTool.Undo)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.enabled(t.TuiEditorTool.Size)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.firstBigBlockEnabled),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.enabled(t.TuiEditorTool.Sub)||t.enabled(t.TuiEditorTool.Sup)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.enabled(t.TuiEditorTool.Color)||t.enabled(t.TuiEditorTool.Hilite)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.secondBigBlockEnabled),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.enabled(t.TuiEditorTool.Clear)))},directives:[b.a,i.t,v.a,x.b,C.b,y.a,w.a,i.s,k.a,E.a,O.a,I.a,M.a],styles:['[_nghost-%COMP%]{display:flex;padding:.25rem .75rem;overflow:auto}._disabled[_nghost-%COMP%]{pointer-events:none;opacity:var(--tui-disabled-opacity)}.block[_ngcontent-%COMP%]{display:flex;padding:.25rem 0}.block[_ngcontent-%COMP%]:not(:last-child):after{content:"";display:block;margin:0 .25rem;width:.0625rem;background:var(--tui-secondary-active)}.button[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration,.3s);transition-timing-function:ease-in-out}.button[_ngcontent-%COMP%]:hover{background:var(--tui-secondary-hover)}.button_margin[_ngcontent-%COMP%]{margin:0 .25rem}.dropdown[_ngcontent-%COMP%]{padding:.75rem}.wrapper[_ngcontent-%COMP%]{position:relative;margin:0 .25rem}.plate[_ngcontent-%COMP%]{position:absolute;top:1.375rem;left:.25rem;width:1.5rem;height:.25rem}.font[_ngcontent-%COMP%], .plate[_ngcontent-%COMP%]{pointer-events:none}.font[_ngcontent-%COMP%]{padding:.3em 0;outline:none;width:100%}.image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;font-size:0;opacity:0;cursor:pointer}.image[_ngcontent-%COMP%]::-webkit-file-upload-button{display:none}.color-picker[_ngcontent-%COMP%]     tui-color-edit, .color-picker[_ngcontent-%COMP%]     tui-color-picker, .color-picker[_ngcontent-%COMP%]     tui-hosted-dropdown{display:none}'],changeDetection:0}),Object(o.a)([Object(d.tuiDefaultProp)(pe,"Attach and TeX are not yet implemented in Editor")],e.prototype,"tools",void 0),Object(o.a)([Object(d.tuiDefaultProp)()],e.prototype,"colors",void 0),Object(o.a)([Object(d.tuiDefaultProp)()],e.prototype,"editor",void 0),Object(o.a)([Object(d.tuiDefaultProp)()],e.prototype,"disabled",void 0),e})()},"PVE+":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("2kYt"),i=n("EM62"),r=n("ZGpP"),s=n("Qq0t");let c=(()=>{class e{constructor(e,t,n,{head:o},i,r){if(this.elementRef=e,this.renderer=t,this.sanitizer=n,this.tuiSanitizer=r,o.querySelector("style[data-tui-editor-socket]"))return;const s=t.createElement("style");t.setProperty(s,"textContent",i),t.setAttribute(s,"data-tui-editor-socket",""),o.appendChild(s)}set content(e){this.renderer.setProperty(this.elementRef.nativeElement,"innerHTML",this.tuiSanitizer?this.tuiSanitizer.sanitize(i.SecurityContext.HTML,e):this.sanitizer.sanitize(i.SecurityContext.HTML,e))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.Sanitizer),i["\u0275\u0275directiveInject"](o.e),i["\u0275\u0275directiveInject"](r.b),i["\u0275\u0275directiveInject"](s.TUI_SANITIZER,8))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-editor-socket"]],hostAttrs:[1,"tui-editor-socket"],inputs:{content:"content"},decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e})()},QkJc:function(e,t,n){"use strict";n.d(t,"a",(function(){return o.a})),n.d(t,"b",(function(){return l}));var o=n("OXFH"),i=n("2kYt"),r=n("h6ZL"),s=n("hjXH"),c=n("l4xa"),a=n("Qq0t"),u=n("EM62");let l=(()=>{class e{}return e.\u0275mod=u["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,a.TuiHintModule,c.TuiFocusableModule,a.TuiButtonModule,a.TuiHostedDropdownModule,s.b,a.TuiDescribedByModule,a.TuiDataListModule,r.a,c.TuiActiveZoneModule,a.TuiDropdownControllerModule]]}),e})()},RZBz:function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var o=n("D57K"),i=n("EM62"),r=n("e4iD"),s=n("ZGpP"),c=n("qfHc"),a=n("l4xa"),u=n("8RbE"),l=n("q7Lq"),d=n("zV1d"),p=n("2kYt"),f=n("x/Ht"),h=n("ONKv"),m=n("cVyY"),g=n("xcN3"),b=n("deU2"),v=n("fHzR"),x=n("tNxS"),C=n("3FOu"),y=n("Kw97"),w=n("UeI1");function k(e,t){if(1&e&&i["\u0275\u0275element"](0,"tui-svg",9),2&e){i["\u0275\u0275nextContext"]();const e=i["\u0275\u0275reference"](1);i["\u0275\u0275classProp"]("arrow_rotated",e.open)}}function E(e,t){1&e&&i["\u0275\u0275element"](0,"tui-svg",14)}function O(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",12),i["\u0275\u0275listener"]("keydown.enter.prevent",(function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit,o=i["\u0275\u0275nextContext"](2),r=i["\u0275\u0275reference"](1);return o.onModeSelect(n,r)}))("keydown.space.prevent",(function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit,o=i["\u0275\u0275nextContext"](2),r=i["\u0275\u0275reference"](1);return o.onModeSelect(n,r)}))("click",(function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit,o=i["\u0275\u0275nextContext"](2),r=i["\u0275\u0275reference"](1);return o.onModeSelect(n,r)})),i["\u0275\u0275text"](1),i["\u0275\u0275template"](2,E,1,0,"tui-svg",13),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275attribute"]("aria-checked",n.isModeActive(e)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.isModeActive(e))}}function I(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tui-data-list",10),i["\u0275\u0275template"](1,O,3,3,"button",11),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.modes)}}function M(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",20,21),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"](2).onDirectionChange(n)})),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275reference"](1),o=i["\u0275\u0275nextContext"](2);i["\u0275\u0275classProp"]("direction_active",o.isDirectionActive(e)),i["\u0275\u0275property"]("icon",o.getIcon(e))("tuiHint",e)("tuiHintId",n.id)("tuiDescribedBy",n.id)}}function S(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275element"](1,"hr",15),i["\u0275\u0275elementStart"](2,"div",16),i["\u0275\u0275elementStart"](3,"tui-linear-multi-picker",17),i["\u0275\u0275listener"]("valueChange",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onStopsChange(t)}))("indexChange",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onIndexChange(t)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",18),i["\u0275\u0275template"](5,M,2,6,"button",19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275styleProp"]("background",e.gradient,i["\u0275\u0275defaultStyleSanitizer"]),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",e.stopsKeys),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.buttons)}}function D(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tui-color-edit",22),i["\u0275\u0275listener"]("colorChange",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onColorChange(t)})),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("color",e.color)}}function R(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tui-palette",23),i["\u0275\u0275listener"]("selectedColor",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onPalettePick(t)})),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("colors",e.palette)}}const P=[0,0,0,0],_=[[0,[0,0,0,1]],[1,[255,255,255,1]]],T={"to top right":"tuiIconArrowUpRight","to right":"tuiIconArrowRight","to bottom right":"tuiIconArrowDownRight","to bottom":"tuiIconArrowDown","to bottom left":"tuiIconArrowDownLeft","to left":"tuiIconArrowLeft","to top left":"tuiIconArrowUpLeft","to top":"tuiIconArrowUp"};let L=(()=>{class e{constructor(e,t){this.sanitizer=e,this.modes=t,this.colors=new Map,this.colorChange=new i.EventEmitter,this.color=[0,0,0,1],this.currentMode=this.modes[0],this.buttons=["to top right","to right","to bottom right","to bottom","to bottom left","to left","to top left","to top"],this.stops=new Map(_),this.currentStop=0,this.direction="to bottom"}set colorSetter(e){this.parse(e)}get palette(){return this.filterPalette(this.colors,this.isGradient)}get stopsKeys(){return this.getStopsKeys(this.stops)}get currentColor(){return this.isGradient?this.getStop(this.currentStop):this.color}get gradient(){return this.sanitizer.bypassSecurityTrustStyle(this.getGradient("to right"))}get isGradient(){return this.currentMode===this.modes[1]}getIcon(e){return T[e]}isModeActive(e){return this.currentMode===e}isDirectionActive(e){return this.direction===e}onPalettePick(e){this.updateColor(e)}onDirectionChange(e){this.direction=e,this.updateColor(this.getGradient(e))}onModeSelect(e,t){this.currentMode=e,t.open=!1,this.updateColor(e===this.modes[0]?`rgba(${this.color.join(", ")})`:this.getGradient(this.direction))}onIndexChange(e){this.currentStop=this.stopsKeys[e]}onColorChange(e){this.isGradient?(this.stops.set(this.currentStop,e),this.updateColor(this.getGradient(this.direction))):this.updateColor(`rgba(${e.join(", ")})`)}onStopsChange(e){const t=this.stopsKeys.find(t=>-1===e.indexOf(t)),n=e.find(e=>-1===this.stopsKeys.indexOf(e));void 0===t&&void 0!==n&&this.addStop(n),void 0!==t&&void 0===n&&this.removeStop(t),void 0!==t&&void 0!==n&&this.replaceStop(t,n),this.updateColor(this.getGradient(this.direction))}updateColor(e){this.colorChange.emit(e)}getGradient(e){return`linear-gradient(${e}, ${[...this.stopsKeys].sort().map(e=>`rgba(${this.getStop(e).join(", ")}) ${100*e}%`).join(", ")})`}getStop(e){return this.stops.get(e)||P}addStop(e){const t=this.stopsKeys.reduce((t,n)=>Math.abs(n-e)<Math.abs(t-e)?n:t,this.stopsKeys[0]);this.stops.set(e,this.getStop(t)),this.stops=new Map(this.stops),this.currentStop=e}removeStop(e){this.stops.delete(e),this.stops=new Map(this.stops),this.currentStop=this.stopsKeys[0]}replaceStop(e,t){const n=this.getStop(e);this.currentStop=t,this.stops=new Map(this.stopsKeys.map(o=>o===e?[t,n]:[o,this.getStop(o)]))}getStopsKeys(e){return Array.from(e.keys())}filterPalette(e,t){const n=new Map(e);return n.forEach((e,o)=>{(e.startsWith("linear-gradient")&&!t||!e.startsWith("linear-gradient")&&t)&&n.delete(o)}),n}parse(e){e.startsWith("linear-gradient")?this.parseGradient(e):this.parseColor(e)}parseGradient(e){if(e===this.getGradient(this.direction))return;const t=Object(c.g)(Object(c.b)(e));this.currentMode=this.modes[1],this.direction=t.side,this.currentStop=0,this.stops=new Map(t.stops.length?t.stops.map(({color:e,position:t})=>[parseFloat(t)/100,Object(c.f)(e)]):_)}parseColor(e){this.currentMode=this.modes[0],this.currentStop=0,this.color=Object(c.f)(e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.DomSanitizer),i["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-color-selector"]],inputs:{colors:"colors",colorSetter:["color","colorSetter"]},outputs:{colorChange:"colorChange"},features:[i["\u0275\u0275ProvidersFeature"]([u.b])],decls:12,vars:7,consts:[[1,"select",3,"content"],["dropdown",""],["tuiButton","","appearance","","size","s","type","button",3,"iconRight"],["arrow",""],["menu",""],[4,"ngIf"],[3,"color","colorChange"],["tuiGroup","","class","edit",3,"color","colorChange",4,"ngIf"],["class","palette",3,"colors","selectedColor",4,"ngIf"],["src","tuiIconChevronDown",1,"arrow"],["role","menu",1,"menu"],["tuiOption","","size","xs","role","menuitemradio",3,"keydown.enter.prevent","keydown.space.prevent","click",4,"ngFor","ngForOf"],["tuiOption","","size","xs","role","menuitemradio",3,"keydown.enter.prevent","keydown.space.prevent","click"],["class","checkmark","src","tuiIconCheck",4,"ngIf"],["src","tuiIconCheck",1,"checkmark"],[1,"hr"],[1,"wrapper"],[1,"gradient",3,"value","valueChange","indexChange"],[1,"buttons"],["tuiIconButton","","type","button","size","xs","appearance","","class","direction",3,"direction_active","icon","tuiHint","tuiHintId","tuiDescribedBy","click",4,"ngFor","ngForOf"],["tuiIconButton","","type","button","size","xs","appearance","",1,"direction",3,"icon","tuiHint","tuiHintId","tuiDescribedBy","click"],["directionBtn",""],["tuiGroup","",1,"edit",3,"color","colorChange"],[1,"palette",3,"colors","selectedColor"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tui-hosted-dropdown",0,1),i["\u0275\u0275elementStart"](2,"button",2),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,k,1,2,"ng-template",null,3,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](6,I,2,1,"ng-template",null,4,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,S,6,4,"ng-container",5),i["\u0275\u0275elementStart"](9,"tui-color-picker",6),i["\u0275\u0275listener"]("colorChange",(function(e){return t.onColorChange(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,D,1,1,"tui-color-edit",7),i["\u0275\u0275template"](11,R,1,1,"tui-palette",8)),2&e){const e=i["\u0275\u0275reference"](5),n=i["\u0275\u0275reference"](7);i["\u0275\u0275property"]("content",n),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("iconRight",e),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.currentMode," "),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t.isGradient),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("color",t.currentColor),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.isGradient),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.palette.size)}},directives:[l.a,d.a,p.t,f.a,h.a,m.a,p.s,g.a,b.a,v.b,x.b,C.a,y.a,w.a],styles:['[_nghost-%COMP%]{z-index:0;display:block;width:20.25rem}.wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]{position:relative}.wrapper[_ngcontent-%COMP%]{margin:1.25rem;border-radius:.5rem}.wrapper[_ngcontent-%COMP%]:after{box-shadow:inset 0 0 0 1px rgba(0,0,0,.08);pointer-events:none}.wrapper[_ngcontent-%COMP%]:after, .wrapper[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;width:100%;height:100%;content:"";border-radius:inherit}.wrapper[_ngcontent-%COMP%]:before{z-index:-1;background-image:linear-gradient(45deg,var(--tui-base-03) 25%,transparent 0,transparent 75%,var(--tui-base-03) 0,var(--tui-base-03)),linear-gradient(45deg,var(--tui-base-03) 25%,transparent 0,transparent 75%,var(--tui-base-03) 0,var(--tui-base-03));background-size:.375rem .375rem;background-position:0 0,.1875rem .1875rem}.hr[_ngcontent-%COMP%]{height:.0625rem;margin:0 0 0 -.0625rem;border:none;background:var(--tui-base-03)}.gradient[_ngcontent-%COMP%]{margin:0 .5rem;border-radius:inherit}.select[_ngcontent-%COMP%]{margin:.75rem .5rem}.arrow[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration,.3s);transition-timing-function:ease-in-out}.arrow_rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.menu[_ngcontent-%COMP%]{width:11.25rem}.checkmark[_ngcontent-%COMP%]{margin-left:auto;width:1rem;height:1rem}.buttons[_ngcontent-%COMP%]{display:flex;padding:0 .75rem 1.25rem}.direction[_ngcontent-%COMP%]{color:var(--tui-text-02);margin:0 .375rem}.direction[_ngcontent-%COMP%]:hover, .direction_active[_ngcontent-%COMP%]{color:var(--tui-text-01);background:var(--tui-secondary-hover)}.edit[_ngcontent-%COMP%]{margin:1.25rem}.palette[_ngcontent-%COMP%]{box-sizing:border-box;box-shadow:inset 0 1px var(--tui-base-03)}'],changeDetection:0}),Object(o.a)([Object(a.tuiDefaultProp)()],e.prototype,"colors",void 0),Object(o.a)([Object(a.tuiRequiredSetter)()],e.prototype,"colorSetter",null),Object(o.a)([a.tuiPure],e.prototype,"getStopsKeys",null),Object(o.a)([a.tuiPure],e.prototype,"filterPalette",null),e})()},UeI1:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("D57K"),i=n("EM62"),r=n("l4xa"),s=n("2kYt"),c=n("fHzR"),a=n("tNxS");function u(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",1),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"]().selectedColor.emit(n.value)})),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;i["\u0275\u0275styleProp"]("background",e.value,i["\u0275\u0275defaultStyleSanitizer"]),i["\u0275\u0275property"]("tuiHint",e.key)("tuiHintId",e.key)("tuiDescribedBy",e.key)}}let l=(()=>{class e{constructor(){this.colors=new Map,this.selectedColor=new i.EventEmitter}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-palette"]],inputs:{colors:"colors"},outputs:{selectedColor:"selectedColor"},decls:2,vars:3,consts:[["type","button","class","button",3,"background","tuiHint","tuiHintId","tuiDescribedBy","click",4,"ngFor","ngForOf"],["type","button",1,"button",3,"tuiHint","tuiHintId","tuiDescribedBy","click"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,u,1,5,"button",0),i["\u0275\u0275pipe"](1,"keyvalue")),2&e&&i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](1,1,t.colors))},directives:[s.s,c.b,a.b],pipes:[s.l],styles:["[_nghost-%COMP%]{display:block;padding:.875rem}.button[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;width:1.5625rem;height:1.5625rem;box-sizing:border-box;margin:.375rem;border-radius:var(--tui-radius-m);border:1px solid rgba(0,0,0,.08)}"],changeDetection:0}),Object(o.a)([Object(r.tuiDefaultProp)()],e.prototype,"colors",void 0),e})()},ZGpP:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return l}));var o=n("EM62");const i=new o.InjectionToken("tui-color-selector i18n",{factory:()=>["Solid color","Gradient"]}),r=new o.InjectionToken("tui-color-selector i18n",{factory:()=>({undo:"Undo",redo:"Redo",font:"Font",fontStyle:"Font style",fontSize:"fontSize",bold:"Bold",italic:"Italic",underline:"Underline",strikeThrough:"Strike Through",justify:"Justify",justifyLeft:"Justify left",justifyCenter:"Justify center",justifyRight:"Justify right",justifyFull:"Justify full",list:"List",indent:"Indent",outdent:"Outdent",unorderedList:"Unordered list",orderedList:"Ordered list",quote:"Quote",foreColor:"Color",backColor:"Background color",hiliteColor:"hiliteColor",clear:"Clear",link:"Link",attach:"Attach file",tex:"Insert TeX",code:"Code",image:"Insert image",insertHorizontalRule:"Insert horizontal rule",superscript:"Superscript",subscript:"Subscript"})});var s=n("l4xa"),c=n("YtkY");const a=new o.InjectionToken("Image loader handler",{factory:()=>e=>{const t=new FileReader,n=Object(s.typedFromEvent)(t,"load").pipe(Object(c.a)(()=>String(t.result)));return t.readAsDataURL(e),n}});var u=n("ssuq");const l=new o.InjectionToken("Styles for Editor",{providedIn:"root",factory:()=>u.b})},deU2:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("D57K"),i=n("EM62"),r=n("9cW9"),s=n("l4xa"),c=n("2kYt");function a(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",1),i["\u0275\u0275listener"]("mousedown",(function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"]().onMouseDown(n)}))("dblclick",(function(){i["\u0275\u0275restoreView"](e);const n=t.index;return i["\u0275\u0275nextContext"]().onClick(n)})),i["\u0275\u0275elementEnd"]()}2&e&&i["\u0275\u0275styleProp"]("left",100*t.$implicit,"%")}let u=(()=>{class e{constructor(e){this.value=[0,1],this.valueChange=new i.EventEmitter,this.indexChange=new i.EventEmitter,this.index=NaN,e.subscribe(([e])=>{this.onPicker(e)})}onMouseUp(){this.index=NaN}onMouseDown(e){this.updateIndex(e)}onClick(e){this.value.length>2&&this.updateValue(this.value.filter((t,n)=>n!==e))}onPicker(e){isNaN(this.index)&&(this.updateIndex(this.value.length),this.value=[...this.value,0]),this.value.some((t,n)=>t===e&&n!==this.index)||this.updateValue(this.value.map((t,n)=>n===this.index?e:t))}updateIndex(e){this.index=e,this.indexChange.emit(e)}updateValue(e){this.value=e,this.valueChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-linear-multi-picker"]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("mouseup",(function(){return t.onMouseUp()}),!1,i["\u0275\u0275resolveDocument"])},inputs:{value:"value"},outputs:{valueChange:"valueChange",indexChange:"indexChange"},features:[i["\u0275\u0275ProvidersFeature"]([s.TuiDestroyService,r.a])],decls:1,vars:1,consts:[["class","circle",3,"left","mousedown","dblclick",4,"ngFor","ngForOf"],[1,"circle",3,"mousedown","dblclick"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,a,1,2,"div",0),2&e&&i["\u0275\u0275property"]("ngForOf",t.value)},directives:[c.s],styles:["[_nghost-%COMP%]{position:relative;display:block;height:1rem;box-sizing:border-box}.circle[_ngcontent-%COMP%]{position:absolute;width:1rem;height:1rem;border-radius:100%;margin:0 -.5rem;box-shadow:inset 0 0 0 2px var(--tui-base-01),0 0 0 1px var(--tui-base-03)}"],changeDetection:0}),Object(o.a)([Object(s.tuiDefaultProp)()],e.prototype,"value",void 0),e})()},h6ZL:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n("RZBz");var o=n("2kYt"),i=n("ihAW"),r=n("lRP1"),s=n("hn7V"),c=n("ACCV"),a=n("l4xa"),u=n("Qq0t"),l=n("EM62");let d=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c,u.TuiButtonModule,u.TuiHostedDropdownModule,r.a,s.a,u.TuiHintModule,u.TuiDescribedByModule,u.TuiSvgModule,u.TuiDataListModule,a.TuiActiveZoneModule,i.a,u.TuiGroupModule,c.a]]}),e})()},hjXH:function(e,t,n){"use strict";n.d(t,"a",(function(){return o.a})),n.d(t,"b",(function(){return l}));var o=n("MQ7l"),i=n("2kYt"),r=n("nIj0"),s=n("l4xa"),c=n("Qq0t"),a=n("dvRg"),u=n("EM62");let l=(()=>{class e{}return e.\u0275mod=u["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,r.FormsModule,s.TuiAutoFocusModule,c.TuiButtonModule,c.TuiSvgModule,c.TuiLinkModule,a.TuiInputInlineModule]]}),e})()},hn7V:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n("deU2");var o=n("2kYt"),i=n("EM62");let r=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c]]}),e})()},ihAW:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n("3FOu");var o=n("2kYt"),i=n("nIj0"),r=n("Qq0t"),s=n("dvRg"),c=n("K506"),a=n("EM62");let u=(()=>{class e{}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c,i.FormsModule,c.TextMaskModule,s.TuiValueAccessorModule,s.TuiSelectModule,r.TuiPrimitiveTextfieldModule,r.TuiTextfieldControllerModule,r.TuiDropdownControllerModule,s.TuiInputCountModule,r.TuiDataListModule]]}),e})()},"kT+k":function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var o=n("D57K"),i=n("EM62"),r=n("nIj0"),s=n("e4iD"),c=n("qfHc"),a=n("l4xa"),u=n("Qq0t"),l=n("q7Lq"),d=n("luNI"),p=n("CDxv"),f=n("kiPw"),h=n("RZBz"),m=n("4hRd");function g(e,t){if(1&e&&i["\u0275\u0275element"](0,"div",5),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275styleProp"]("background",e.background,i["\u0275\u0275defaultStyleSanitizer"])}}function b(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tui-color-selector",6),i["\u0275\u0275listener"]("colorChange",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onValueChange(t)})),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("tuiActiveZoneParent",e)("colors",n.colors)("color",n.value)}}const v=["*"];function x(e){return(e=e||new u.TuiDropdownControllerDirective).maxHeight=600,e}let C=(()=>{class e extends a.AbstractTuiControl{constructor(e,t,n){super(e,t),this.domSanitizer=n,this.colors=new Map,this.open=!1}get nativeFocusableElement(){return this.computedDisabled||!this.textfield?null:this.textfield.nativeFocusableElement}get focused(){return!!this.dropdown&&this.dropdown.focused}get background(){return this.sanitize(this.value,this.domSanitizer)}onClick(){this.open=!this.open}onValueChange(e){this.updateValue(e)}onFocused(e){this.updateFocused(e)}onHovered(e){this.updateHovered(e)}onPressed(e){this.updatePressed(e)}getFallbackValue(){return"#000000"}sanitize(e,t){return e.startsWith("linear-gradient(")?t.bypassSecurityTrustStyle(Object(c.j)(Object(c.g)(Object(c.b)(e)))):e}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.NgControl,10),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](s.DomSanitizer))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-input-color"]],viewQuery:function(e,t){var n;1&e&&(i["\u0275\u0275viewQuery"](u.TuiPrimitiveTextfieldComponent,!0),i["\u0275\u0275viewQuery"](u.TuiHostedDropdownComponent,!0)),2&e&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.textfield=n.first),i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.dropdown=n.first))},hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("click",(function(){return t.onClick()}))},inputs:{colors:"colors"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:u.TUI_DROPDOWN_CONTROLLER,deps:[[new i.Optional,u.TuiDropdownControllerDirective]],useFactory:x}]),i["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:v,decls:7,vars:12,consts:[[1,"wrapper",3,"content","open","openChange"],["iconAlign","left","tuiTextfieldAutocomplete","off",1,"textfield",3,"pseudoFocused","pseudoHovered","pseudoPressed","invalid","focusable","nativeId","disabled","readOnly","value","iconContent","valueChange","focusedChange","hoveredChange","pressedChange"],["color",""],["polymorpheus",""],["picker","polymorpheus"],[1,"color"],[3,"tuiActiveZoneParent","colors","color","colorChange"]],template:function(e,t){if(1&e&&(i["\u0275\u0275projectionDef"](),i["\u0275\u0275elementStart"](0,"tui-hosted-dropdown",0),i["\u0275\u0275listener"]("openChange",(function(e){return t.open=e})),i["\u0275\u0275elementStart"](1,"tui-primitive-textfield",1),i["\u0275\u0275listener"]("valueChange",(function(e){return t.onValueChange(e)}))("focusedChange",(function(e){return t.onFocused(e)}))("hoveredChange",(function(e){return t.onHovered(e)}))("pressedChange",(function(e){return t.onPressed(e)})),i["\u0275\u0275projection"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,g,1,2,"ng-template",null,2,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](5,b,1,3,"ng-template",3,4,i["\u0275\u0275templateRefExtractor"])),2&e){const e=i["\u0275\u0275reference"](4),n=i["\u0275\u0275reference"](6);i["\u0275\u0275property"]("content",n)("open",t.open),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("pseudoFocused",t.computedFocused)("pseudoHovered",t.pseudoHovered)("pseudoPressed",t.pseudoPressed)("invalid",t.computedInvalid)("focusable",t.focusable)("nativeId",t.nativeId)("disabled",t.disabled)("readOnly",t.readOnly)("value",t.value)("iconContent",e)}},directives:[l.a,d.a,p.b,f.e,h.a,m.a],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m)}.wrapper[_ngcontent-%COMP%]{display:flex}.textfield[_ngcontent-%COMP%]{border-radius:var(--tui-radius-m)}.color[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;box-shadow:inset 0 0 0 1px var(--tui-base-03-dark);border-radius:.125rem}"],changeDetection:0}),Object(o.a)([Object(a.tuiDefaultProp)()],e.prototype,"colors",void 0),Object(o.a)([a.tuiPure],e.prototype,"sanitize",null),e})()},lRP1:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n("x/Ht");var o=n("2kYt"),i=n("N+cQ"),r=n("tBgc"),s=n("EM62");let c=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c,i.a,r.a]]}),e})()},qfHc:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return v}));var o=n("l4xa");function i(e,t,n){const{left:i,top:r,width:s,height:c}=n.getBoundingClientRect();return[Object(o.clamp)(e-i,0,s)/s,Object(o.clamp)(t-r,0,c)/c]}function r(e){return e.substring(0,e.length-1).replace("linear-gradient(","")}function s(e){const t=e.replace("#","").split("").map((e,t,n)=>3===n.length?e+e:e).join("").match(/.{2}/g);return t?t.map(e=>Number.parseInt(e,16)):[0,0,0]}function c(e,t,n){return[a(e,t,n,5),a(e,t,n,3),a(e,t,n,1)]}function a(e,t,n,o){const i=(o+e/60)%6;return Math.round(n-n*t*Math.max(Math.min(i,4-i,1),0))}function u(e,t){if(e.queryCommandSupported("insertHTML"))return void e.execCommand("insertHTML",!1,t);const n=e.getSelection();if(!n)throw new Error("Failed to get document selection");e.execCommand("ms-beginUndoUnit");const o=n.getRangeAt(0),i=o.createContextualFragment(t);o.deleteContents(),o.insertNode(i),e.execCommand("ms-endUndoUnit")}function l({anchorNode:e,focusNode:t},n){return!!e&&!!t&&Object(o.isNodeIn)(e,n)&&Object(o.isNodeIn)(t,n)}const d=[0,0,0,1];function p(e){const t=e.replace("#","").replace("rgba(","").replace("rgb(","").replace(")",""),n=t.split(",").map(e=>parseFloat(e));if(4===n.length)return n;if(3===n.length)return n.concat(1);const o=t.match(new RegExp("(.{"+t.length/3+"})","g"));if(!o)return d;const i=o.map(e=>parseInt(t.length%2?e+e:e,16));return[i[0]||d[0],i[1]||d[1],i[2]||d[2],void 0===i[3]?d[3]:i[3]]}const f=["\\s*(","(?:","#(?:[a-f0-9]{6}|[a-f0-9]{3})","|","(?:rgb|hsl)","\\(\\s*(?:\\d{1,3}\\s*,\\s*){2}\\d{1,3}\\s*\\)","|","(?:rgba|hsla)","\\(\\s*(?:\\d{1,3}\\s*,\\s*){2}\\d{1,3}\\s*,\\s*\\d*\\.?\\d+\\)","|","[_a-z-][_a-z0-9-]*",")",")","(?:\\s+","(","(?:[+-]?\\d*\\.?\\d+)(?:%|[a-z]+)?","))?","(?:","\\s*,\\s*","\\s*)?"];function h(e){const t=new RegExp(f.join(""),"gi"),n=e.startsWith("to")||e.match(/^\d/)?e.substring(e.indexOf(",")+1).trim():e,o=e.startsWith("to")?e.split(",")[0]:"to bottom";let i=[],r=t.exec(n);for(;null!==r;)i=i.concat({color:r[1],position:m(r[2],i.length)}),r=t.exec(n);return i=i.filter(({color:e})=>e.startsWith("#")||e.startsWith("rgb")),{stops:i,side:o}}function m(e,t){const n=1===t?"100%":t+"%";return e&&e.includes("%")?e:n}function g(e,t,n){return[e,t,n].map(e=>e.toString(16)).map(e=>1===e.length?"0"+e:e).join("")}function b(e,t,n){const o=Math.max(e,t,n),i=o-Math.min(e,t,n),r=i&&(o===e?(t-n)/i:o===t?2+(n-e)/i:4+(e-t)/i);return[60*(r<0?r+6:r),o&&i/o,o]}function v({stops:e,side:t}){return`linear-gradient(${t}, ${e.map(({color:e,position:t})=>`rgba(${p(e).join(", ")}) ${t}`).join(", ")})`}},ssuq:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));const o=new Map([["color-black-300","#333333"],["color-black-200","#666666"],["color-black-100","#909090"],["color-yellow-100","#FFDD2C"],["color-yellow-200","#FCC521"],["color-yellow-300","#FAB618"],["color-gray-100","#f5f5f6"],["color-gray-200","#e7e8ea"],["color-gray-300","#cbcfd3"],["color-gray-400","#959ba4"],["color-gray-500","#79818c"],["color-gray-600","#616871"],["color-light-blue-100","#ecf1f7"],["color-light-blue-200","#e4ebf3"],["color-light-blue-300","#dde4ed"],["color-blue-100","#1771e6"],["color-blue-200","#1464cc"],["color-blue-300","#0953b3"],["color-green-100","#39b54a"],["color-green-200","#2ca53a"],["color-green-300","#168a21"],["color-red-100","#e01f19"],["color-red-200","#d3120e"],["color-red-300","#c40b08"]]),i="\n@import 'https://fonts.googleapis.com/css2?family=Manrope:wght@500;800&display=swap';\n\nbody.tui-editor-socket {\n    margin: 0;\n    overflow: hidden;\n    padding: 0 16px;\n}\n\n.tui-editor-socket {\n    display: block;\n    color: #333;\n    font-size: 15px;\n    font-family: tuiText, 'Manrope', sans-serif;\n    line-height: 24px;\n}\n\n.tui-editor-socket ul,\n.tui-editor-socket ol {\n    list-style-type: none;\n    margin: 16px 16px 16px 24px;\n    padding: 0;\n}\n\n.tui-editor-socket li {\n    margin: 16px 0;\n}\n\n.tui-editor-socket ul li:before {\n    content: '';\n    display: inline-block;\n    width: 8px;\n    height: 8px;\n    border-radius: 100%;\n    margin: 0 14px 1px -22px;\n    background-color: #ffdd2d;\n}\n\n.tui-editor-socket ol {\n    counter-reset: counter;\n}\n\n.tui-editor-socket ol li:before {\n    content: counter(counter) '.';\n    width: 24px;\n    margin: 0 12px 0 -24px;\n    counter-increment: counter;\n    color: #909090;\n}\n\n.tui-editor-socket pre {\n    white-space: pre-wrap;\n    word-break: break-word;\n    border-radius: 4px;\n    margin: 16px 0;\n    padding: 12px 16px;\n    font-family: 'Courier', monospace;\n    color: #666666;\n    background-color: #f5f5f6;\n}\n\n.tui-editor-socket pre + pre {\n    margin-top: -29px;\n    padding-top: 0;\n}\n\n.tui-editor-socket blockquote {\n    margin: 20px 0 20px 24px !important;\n    padding-left: 17px !important;\n    border-left: 1px solid #cbcfd3 !important;\n}\n\n.tui-editor-socket p {\n    margin: 16px 0;\n}\n\n.tui-editor-socket a {\n    color: #3d7ab6;\n    text-decoration: none;\n    outline: none;\n}\n\n.tui-editor-socket a:hover {\n    color: #369;\n}\n\n.tui-editor-socket a:active {\n    color: #29527c;\n}\n\n.tui-editor-socket hr {\n    border: none;\n    border-top: 1px solid #e7e8ea;\n    margin: 16px 0;\n}\n\n.tui-editor-socket font[face='Courier New'] {\n    padding: 4px 8px;\n    border-radius: 4px;\n    background-color: #ecf1f7;\n    display: inline-block;\n    word-break: break-word;\n}\n\n.tui-editor-socket font[size='1'] {\n    font-size: 11px;\n    line-height: 16px;\n}\n\n.tui-editor-socket font[size='2'] {\n    font-size: 13px;\n    line-height: 20px;\n}\n\n.tui-editor-socket font[size='3'] {\n    font-size: 15px;\n    line-height: 24px;\n}\n\n.tui-editor-socket font[size='4'] {\n    font-size: 17px;\n    line-height: 24px;\n}\n\n.tui-editor-socket font[size='5'],\n.tui-editor-socket font[size='6'],\n.tui-editor-socket font[size='7'] {\n    display: block;\n    margin: 32px 0 16px;\n    font-family: var(--tui-font-heading);\n}\n\n.tui-editor-socket font[size='5'] {\n    font-size: 24px;\n    line-height: 28px;\n}\n\n.tui-editor-socket font[size='6'] {\n    font-size: 30px;\n    line-height: 36px;\n}\n\n.tui-editor-socket font[size='7'] {\n    font-size: 40px;\n    line-height: 44px;\n}\n";var r=n("IR5z");const s=[r.a.Undo,r.a.Size,r.a.Bold,r.a.Italic,r.a.Underline,r.a.Align,r.a.List,r.a.Quote,r.a.Link,r.a.Color,r.a.Hilite,r.a.Clear,r.a.Strikethrough,r.a.Code,r.a.Img,r.a.HR,r.a.Sup,r.a.Sub]},tBgc:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n("9Zcw");var o=n("2kYt"),i=n("EM62");let r=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c]]}),e})()},trX1:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var o=n("D57K"),i=n("2kYt"),r=n("EM62"),s=n("nIj0"),c=n("9qw2"),a=n("hjXH"),u=n("QkJc"),l=n("ssuq"),d=n("O7x8"),p=n("l4xa"),f=n("Qq0t"),h=n("g6G6"),m=n("xVbo"),g=n("kuMc"),b=n("HR0p"),v=n("TYom"),x=n("3OZ8"),C=n("2DeP"),y=n("OXFH"),w=n("bPri"),k=n("MQ7l");const E=["focusableElement"];function O(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-toolbar",11),r["\u0275\u0275listener"]("linkAdded",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onAddLink(t)}))("texClicked",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onTex()}))("attachClicked",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onAttach()})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("disabled",!e.interactive)("tools",e.tools)("colors",e.colors),r["\u0275\u0275attribute"]("aria-labelledby",e.id)}}function I(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",12),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.exampleText)}}function M(e,t){if(1&e&&r["\u0275\u0275element"](0,"div",13),2&e){const e=r["\u0275\u0275nextContext"](),t=r["\u0275\u0275reference"](12);r["\u0275\u0275property"]("tuiDropdownSelection",e.dropdownSelectionHandler)("tuiDropdownContent",t)}}function S(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-edit-link",14),r["\u0275\u0275listener"]("addLink",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onAddLink(t)}))("removeLink",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onRemoveLink()})),r["\u0275\u0275elementEnd"]()}}const D=["*"];function R(e){return e.focusableElement?e.focusableElement.documentRef:null}function P(e){return e.focusableElement&&e.focusableElement.documentRef?new r.ElementRef(e.focusableElement.documentRef.body):null}let _=(()=>{class e extends p.AbstractTuiControl{constructor(e,t,n,o,i,r){super(n,i),this.documentRef=e,this.exampleText="",this.tools=l.c,this.colors=l.a,this.linkDropdownEnabled=!1,this.isSelectionLink=({startContainer:e,endContainer:t})=>Object(p.isNodeIn)(e,"a")&&Object(p.isNodeIn)(t,"a"),Object(h.a)(Object(p.typedFromEvent)(t,"mousedown"),Object(p.typedFromEvent)(t,"focusin")).pipe(Object(m.a)(({target:e})=>this.linkDropdownEnabled&&e instanceof Node&&!o.nativeElement.contains(e)&&!(this.editLink&&this.editLink.nativeElement.contains(e))),Object(p.watch)(i),Object(g.a)(r)).subscribe(()=>{this.linkDropdownEnabled=!1})}get nativeFocusableElement(){return this.computedDisabled||!this.focusableElement?null:this.focusableElement.nativeFocusableElement}get focused(){return!!this.focusableElement&&this.focusableElement.focused||!!this.toolbar&&this.toolbar.focused||!!this.editLink&&Object(p.isNativeFocusedIn)(this.editLink.nativeElement)}get dropdownSelectionHandler(){return this.linkDropdownEnabled?this.isSelectionLink:p.ALWAYS_FALSE_HANDLER}get initialized(){return!!this.focusableElement&&!!this.focusableElement.documentRef&&"complete"===this.focusableElement.documentRef.readyState}get interactive(){return!this.readOnly&&!this.computedDisabled}get hasExampleText(){return!!this.exampleText&&this.computedFocused&&!this.hasValue&&!this.readOnly}get placeholderRaised(){return this.computedFocused&&!this.readOnly||this.hasValue}get computedDocument(){return this.focusableElement?this.focusableElement.computedDocument:this.documentRef}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}onMouseDown(e){this.focusableElement&&this.focusableElement.nativeFocusableElement&&e.target instanceof Element&&!this.focusableElement.nativeFocusableElement.contains(e.target)&&!Object(p.getClosestElement)(e.target,"button")&&(e.preventDefault(),Object(p.setNativeFocused)(this.focusableElement.nativeFocusableElement))}onModelChange(e){this.updateValue("<br>"===e.trim()?"":e)}onHovered(e){this.updateHovered(e)}onFocusedChange(e){this.updateFocused(e),this.linkDropdownEnabled=e||this.linkDropdownEnabled}onAddLink(e){this.selectClosest("a"),this.computedDocument.execCommand("createLink",!1,"TEMP_URL");const t=this.computedDocument.querySelector('[href="TEMP_URL"]');t&&(t.target="_blank",t.rel="_noopener",t.href=e,this.computedDocument.dispatchEvent(new Event("input")))}onRemoveLink(){this.selectClosest("a"),this.computedDocument.execCommand("unlink"),this.linkDropdownEnabled=!1,setTimeout(()=>{this.linkDropdownEnabled=!0})}onAttach(){p.tuiAssert.assert(!1,"Attach is not implemented yet")}onTex(){p.tuiAssert.assert(!1,"Attach is not implemented yet")}getFallbackValue(){return""}get hasValue(){return!!this.value}selectClosest(e){Object(p.setNativeFocused)(this.computedDocument.body);const t=this.computedDocument.getSelection();if(!t)return;const n=t.getRangeAt(0),{commonAncestorContainer:o}=n,i=o.nodeType===Node.TEXT_NODE?o.parentElement:o;if(!i)return;const r=Object(p.getClosestElement)(i,e);r&&n.selectNode(r)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](i.e),r["\u0275\u0275directiveInject"](c.h),r["\u0275\u0275directiveInject"](s.NgControl,10),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef),r["\u0275\u0275directiveInject"](p.TuiDestroyService))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-editor"]],viewQuery:function(e,t){var n;1&e&&(r["\u0275\u0275viewQuery"](E,!0,d.a),r["\u0275\u0275viewQuery"](u.a,!0),r["\u0275\u0275viewQuery"](a.a,!0,r.ElementRef)),2&e&&(r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.focusableElement=n.first),r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.toolbar=n.first),r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.editLink=n.first))},inputs:{exampleText:"exampleText",tools:"tools",colors:"colors"},features:[r["\u0275\u0275ProvidersFeature"]([p.TuiDestroyService,{provide:p.TUI_FOCUSABLE_ITEM_ACCESSOR,useExisting:Object(r.forwardRef)(()=>e)},{provide:f.TUI_DOCUMENT_OR_SHADOW_ROOT,deps:[Object(r.forwardRef)(()=>e)],useFactory:R},{provide:f.TUI_ELEMENT_REF,deps:[Object(r.forwardRef)(()=>e)],useFactory:P}]),r["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:D,decls:13,vars:15,consts:[["appearance","textfield",1,"outline",3,"readOnly","disabled","focused","hovered","invalid"],[1,"wrapper",3,"tuiHoveredChange","mousedown"],[1,"toolbar-wrapper"],[3,"disabled","tools","colors","linkAdded","texClicked","attachClicked",4,"ngIf"],[1,"placeholder",3,"id"],["class","example-text",4,"ngIf"],[1,"scrollbar"],["tuiDropdownLimitWidth","auto","tuiDropdownSelectionPosition","tag",3,"tuiDropdownSelection","tuiDropdownContent",4,"ngIf"],["tuiDesignMode","",1,"editor",3,"exampleText","disabled","ngModel","ngModelChange","focusedChange"],["focusableElement","tuiDesignMode"],["dropdown",""],[3,"disabled","tools","colors","linkAdded","texClicked","attachClicked"],[1,"example-text"],["tuiDropdownLimitWidth","auto","tuiDropdownSelectionPosition","tag",3,"tuiDropdownSelection","tuiDropdownContent"],[3,"addLink","removeLink"]],template:function(e,t){1&e&&(r["\u0275\u0275projectionDef"](),r["\u0275\u0275element"](0,"tui-wrapper",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275listener"]("tuiHoveredChange",(function(e){return t.onHovered(e)}))("mousedown",(function(e){return t.onMouseDown(e)})),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275template"](3,O,1,4,"tui-toolbar",3),r["\u0275\u0275elementStart"](4,"div",4),r["\u0275\u0275projection"](5),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](6,I,2,1,"div",5),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"tui-scrollbar",6),r["\u0275\u0275template"](8,M,1,2,"div",7),r["\u0275\u0275elementStart"](9,"iframe",8,9),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.onModelChange(e)}))("focusedChange",(function(e){return t.onFocusedChange(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](11,S,1,0,"ng-template",null,10,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("readOnly",t.readOnly)("disabled",t.disabled)("focused",t.computedFocused)("hovered",t.computedHovered)("invalid",t.computedInvalid),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.initialized),r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("placeholder_raised",t.placeholderRaised),r["\u0275\u0275property"]("id",t.id),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.hasExampleText),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.initialized),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("exampleText",t.exampleText)("disabled",!t.interactive)("ngModel",t.value),r["\u0275\u0275attribute"]("aria-labelledby",t.id))},directives:[b.a,v.a,i.t,x.a,C.a,s.NgControlStatus,s.NgModel,y.a,w.a,k.a],styles:["[_nghost-%COMP%]{position:relative;z-index:0;font:var(--tui-font-text-m);display:block}.outline[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:var(--tui-radius-m);pointer-events:none}.outline[_ngcontent-%COMP%], .toolbar-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.toolbar-wrapper[_ngcontent-%COMP%]{right:0;z-index:1}.invisible[_ngcontent-%COMP%]{height:0;visibility:hidden}.wrapper[_ngcontent-%COMP%]{position:relative;height:100%;max-height:inherit;min-height:10rem;cursor:text;overflow:hidden}.scrollbar[_ngcontent-%COMP%]{display:flex;max-height:inherit;border-top:74px solid transparent;border-bottom:1px solid transparent;box-sizing:border-box}.link[_ngcontent-%COMP%]{padding:.75rem 1rem}.placeholder[_ngcontent-%COMP%]{transition-property:transform,min-width,color,letter-spacing;transition-duration:var(--tui-duration,.3s);transition-timing-function:ease-in-out;font:var(--tui-font-text-s);color:var(--tui-text-01);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;width:100%;height:1.25rem;font-size:.8125rem;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;color:var(--tui-text-02);transform-origin:left;letter-spacing:normal;text-transform:none;position:absolute;left:1rem;bottom:-2.25rem;width:95%;font-size:.9375rem}.placeholder_raised[_ngcontent-%COMP%]{width:114%;transform:translateY(-.625rem) scale(.87)}[data-tui-host-size=m][_nghost-%COMP%]   .placeholder_raised[_ngcontent-%COMP%]{width:118%;transform:translateY(-.5rem) scale(.85);letter-spacing:.025rem}._invalid[_nghost-%COMP%]:not(._focused)._hovered   .placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused)   .placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill)}[data-mode=onDark]._invalid[_nghost-%COMP%]:not(._focused)._hovered   .placeholder_raised[_ngcontent-%COMP%], [data-mode=onDark]._invalid[_nghost-%COMP%]:not(._focused)   .placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill-night)}._focused[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%], [data-tui-host-size=l]._focused._label-outside[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%], [data-tui-host-size=m]._focused._label-outside[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:var(--tui-text-03)}[data-tui-host-size=l][_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{font-size:.9375rem}[data-tui-host-size=l]._focused[_nghost-%COMP%]:not(._label-outside)   .placeholder[_ngcontent-%COMP%], [data-tui-host-size=m]._focused[_nghost-%COMP%]:not(._label-outside)   .placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01)}[data-mode=onDark][_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}[data-tui-host-size=l][data-mode=onDark]._focused[_nghost-%COMP%]:not(._label-outside)   .placeholder[_ngcontent-%COMP%], [data-tui-host-size=m][data-mode=onDark]._focused[_nghost-%COMP%]:not(._label-outside)   .placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01-night)}[data-mode=onDark]._focused[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%], [data-tui-host-size=l][data-mode=onDark]._focused._label-outside[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%], [data-tui-host-size=m][data-mode=onDark]._focused._label-outside[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}.placeholder_raised[_ngcontent-%COMP%]{width:110%}.example-text[_ngcontent-%COMP%]{position:absolute;left:1rem;bottom:-3.125rem;color:var(--tui-base-06);letter-spacing:normal;text-transform:none}.example-text_light[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}.example-text_dark[_ngcontent-%COMP%]{color:var(--tui-text-03)}.editor[_ngcontent-%COMP%]{display:block;width:100%;min-height:5.375rem;border:none}"],changeDetection:0}),Object(o.a)([Object(p.tuiDefaultProp)()],e.prototype,"exampleText",void 0),Object(o.a)([Object(p.tuiDefaultProp)()],e.prototype,"tools",void 0),Object(o.a)([Object(p.tuiDefaultProp)()],e.prototype,"colors",void 0),e})()},vgRF:function(e,t,n){"use strict";n.d(t,"a",(function(){return o.a})),n.d(t,"b",(function(){return i.a})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return a.b})),n.d(t,"h",(function(){return v.a})),n.d(t,"i",(function(){return v.c})),n.d(t,"e",(function(){return x.a})),n("ihAW");var o=n("lRP1"),i=n("h6ZL"),r=n("hjXH"),s=(n("trX1"),n("2kYt")),c=n("nIj0"),a=n("QkJc"),u=n("O7x8"),l=n("l4xa"),d=n("Qq0t"),p=n("dvRg"),f=n("EM62");let h=(()=>{class e{}return e.\u0275mod=f["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[s.c,c.FormsModule,l.TuiLetModule,l.TuiHoveredModule,l.TuiActiveZoneModule,d.TuiWrapperModule,d.TuiScrollbarModule,d.TuiLinkModule,d.TuiButtonModule,p.TuiDropdownSelectionModule,a.b,r.b,u.b]]}),e})();n("PVE+");let m=(()=>{class e{}return e.\u0275mod=f["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e})();n("N+cQ"),n("kT+k");var g=n("kiPw");let b=(()=>{class e{}return e.\u0275mod=f["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[s.c,d.TuiPrimitiveTextfieldModule,d.TuiTextfieldControllerModule,d.TuiHintControllerModule,g.c,d.TuiHostedDropdownModule,i.a,l.TuiActiveZoneModule]]}),e})();n("hn7V"),n("tBgc"),n("ACCV");var v=n("ssuq"),x=n("IR5z");n("ZGpP"),n("qfHc")},"x/Ht":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("D57K"),i=n("EM62"),r=n("e4iD"),s=n("qfHc"),c=n("l4xa"),a=n("JuXl"),u=n("9Zcw");let l=(()=>{class e{constructor(e){this.sanitizer=e,this.colorChange=new i.EventEmitter,this.point=[0,1],this.hue=0,this.opacity=1}set color(e){if(this.currentColor.every((t,n)=>t===e[n])&&e[3]===this.opacity)return;const[t,n,o]=Object(s.i)(e[0],e[1],e[2]);this.opacity=e[3],this.hue=t/360,this.point=[n,1-o/255]}get currentColor(){return this.getCurrentColor(this.hue,this.point)}get base(){return`rgb(${Object(s.d)(360*this.hue,1,255)})`}get gradient(){return this.sanitizer.bypassSecurityTrustStyle(`linear-gradient(to right, rgba(${this.currentColor.join(",")}, 0), rgb(${this.currentColor.join(",")}))`)}onPointChange(e){this.point=e,this.updateColor()}onHueChange(e){this.hue=e,this.updateColor()}onOpacityChange(e){this.opacity=Object(c.round)(e,2),this.updateColor()}getCurrentColor(e,t){return Object(s.d)(360*e,t[0],255*(1-t[1]))}updateColor(){this.colorChange.emit([this.currentColor[0],this.currentColor[1],this.currentColor[2],this.opacity])}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.DomSanitizer))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-color-picker"]],inputs:{color:"color"},outputs:{colorChange:"colorChange"},decls:5,vars:7,consts:[[1,"flat",3,"value","valueChange"],[1,"wrapper","wrapper_hue"],[1,"hue",3,"value","valueChange"],[1,"wrapper","wrapper_opacity"],[1,"opacity",3,"value","valueChange"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"tui-flat-picker",0),i["\u0275\u0275listener"]("valueChange",(function(e){return t.onPointChange(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"tui-linear-picker",2),i["\u0275\u0275listener"]("valueChange",(function(e){return t.onHueChange(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"tui-linear-picker",4),i["\u0275\u0275listener"]("valueChange",(function(e){return t.onOpacityChange(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275styleProp"]("background-color",t.base),i["\u0275\u0275property"]("value",t.point),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.hue),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("background",t.gradient,i["\u0275\u0275defaultStyleSanitizer"]),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",t.opacity))},directives:[a.a,u.a],styles:['[_nghost-%COMP%]{position:relative;z-index:0;display:block}.flat[_ngcontent-%COMP%]{height:14rem;background:linear-gradient(transparent,#000),linear-gradient(90deg,#fff,hsla(0,0%,100%,0));margin-bottom:.25rem;overflow:hidden}.wrapper[_ngcontent-%COMP%]{position:relative;margin:1rem 1.25rem;border-radius:.5rem}.wrapper[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:"";box-shadow:inset 0 0 0 1px rgba(0,0,0,.08);pointer-events:none;border-radius:inherit}.wrapper_hue[_ngcontent-%COMP%]{background:red}.wrapper_opacity[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;width:100%;height:100%;content:"";z-index:-1;background-image:linear-gradient(45deg,var(--tui-base-03) 25%,transparent 0,transparent 75%,var(--tui-base-03) 0,var(--tui-base-03)),linear-gradient(45deg,var(--tui-base-03) 25%,transparent 0,transparent 75%,var(--tui-base-03) 0,var(--tui-base-03));background-size:.375rem .375rem;background-position:0 0,.1875rem .1875rem;border-radius:inherit}.hue[_ngcontent-%COMP%]{background:linear-gradient(90deg,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}.hue[_ngcontent-%COMP%], .opacity[_ngcontent-%COMP%]{border-radius:inherit;margin:0 .5rem}'],changeDetection:0}),Object(o.a)([Object(c.tuiDefaultProp)()],e.prototype,"color",null),Object(o.a)([c.tuiPure],e.prototype,"getCurrentColor",null),e})()}}]);