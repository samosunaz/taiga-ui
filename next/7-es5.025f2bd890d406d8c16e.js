function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,o=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,i=!1,r=void 0;try{for(var a,u=e[Symbol.iterator]();!(o=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(c){i=!0,r=c}finally{try{o||null==u.return||u.return()}finally{if(i)throw r}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"2DeP":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var o=n("D57K"),i=n("EM62"),r=n("nIj0"),a=n("ZGpP"),u=n("qfHc"),c=n("l4xa"),s=n("Qq0t"),l=n("g6G6"),d=n("kuMc"),p=n("7SLS"),f=n("xVbo"),h=n("YtkY"),m=n("J+dc"),g=function(){var e=function(){function e(t,n,o,r,a,u,s,l,d){var p=this;_classCallCheck(this,e),this.destroy$=t,this.elementRef=n,this.renderer=o,this.ngZone=r,this.changeDetectorRef=a,this.styles=u,this.imageLoader=s,this.sanitizer=l,this.tuiSanitizer=d,this.focusedChange=new i.EventEmitter,this.pointerEvents="all",this.onTouched=c.EMPTY_FUNCTION,this.onChange=c.EMPTY_FUNCTION,this._value="",this._exampleText="",this._disabled=!1,this.observer=new MutationObserver((function(){p.update()})),this.renderer.setStyle(this.elementRef.nativeElement,"visibility","hidden")}return _createClass(e,[{key:"onLoad",value:function(){this.initDOM(),this.initObserver(),this.initSubscriptions()}},{key:"onPointer",value:function(e){this.pointerEvents=e}},{key:"writeValue",value:function(e){this._value=e,this.documentRef&&(this.renderer.setProperty(this.documentRef.body,"innerHTML",e||""),this.updateHeight())}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._disabled=e,this.documentRef&&this.renderer.setProperty(this.documentRef,"designMode",e?"off":"on")}},{key:"initDOM",value:function(){var e=this.renderer.createElement("style"),t=this.renderer.createText(this.styles);e.type="text/css",e.appendChild(t),this.renderer.addClass(this.computedDocument.body,"tui-editor-socket"),this.renderer.appendChild(this.computedDocument.head,e),this.setDisabledState(this._disabled),this.setExampleText(this._exampleText),this.writeValue(this._value),this.computedDocument.execCommand("defaultParagraphSeparator",!1,"p"),this.renderer.removeStyle(this.elementRef.nativeElement,"visibility")}},{key:"initObserver",value:function(){this.observer.observe(this.computedDocument.body,{characterData:!0,childList:!0,subtree:!0})}},{key:"initSubscriptions",value:function(){this.initInputSubscription(),this.initTabSubscription(),this.initFocusSubscription(),this.initPasteSubscription(),this.initDropSubscription(),this.initImageSubscription()}},{key:"initInputSubscription",value:function(){var e=this;Object(c.typedFromEvent)(this.computedDocument,"input").pipe(Object(d.a)(this.destroy$)).subscribe((function(){e.observer.disconnect(),e.update()}))}},{key:"initTabSubscription",value:function(){var e=this;Object(c.typedFromEvent)(this.computedDocument,"keydown").pipe(Object(d.a)(this.destroy$)).subscribe((function(t){if("Tab"===t.key&&e.elementRef.nativeElement.ownerDocument){t.preventDefault();var n=Object(c.getClosestFocusable)(e.elementRef.nativeElement,t.shiftKey,e.elementRef.nativeElement.ownerDocument.body);n&&Object(c.setNativeFocused)(n)}}))}},{key:"initFocusSubscription",value:function(){var e=this;this.computedDocument.defaultView&&Object(l.a)(Object(c.typedFromEvent)(this.computedDocument.defaultView,"blur").pipe(Object(p.a)(!1)),Object(c.typedFromEvent)(this.computedDocument.defaultView,"focus").pipe(Object(p.a)(!0))).pipe(Object(d.a)(this.destroy$)).subscribe((function(t){t||e.onTouched(),e.focusedChange.emit(t),e.markForCheck()}))}},{key:"initPasteSubscription",value:function(){var e=this;Object(c.typedFromEvent)(this.computedDocument,"paste").pipe(Object(d.a)(this.destroy$),Object(f.a)((function(e){return!e.clipboardData||-1===e.clipboardData.types.indexOf("Files")})),Object(c.preventDefault)(),Object(h.a)((function(t){return e.sanitize(Object(c.getClipboardDataText)(t,"text/html"))}))).subscribe((function(t){Object(u.k)(e.computedDocument,t)}))}},{key:"initDropSubscription",value:function(){var e=this;Object(c.typedFromEvent)(this.computedDocument,"drop").pipe(Object(f.a)((function(e){return!!e.dataTransfer})),Object(d.a)(this.destroy$),Object(c.preventDefault)()).subscribe((function(t){e.setSelectionAt(t.x,t.y),-1!==Array.prototype.indexOf.call(t.dataTransfer.types,"Files")?e.handleImageDrop(t.dataTransfer):Object(u.k)(e.computedDocument,e.sanitize(t.dataTransfer.getData("text/html")))}))}},{key:"initImageSubscription",value:function(){var e=this;Object(c.typedFromEvent)(this.computedDocument,"load",{capture:!0}).pipe(Object(d.a)(this.destroy$)).subscribe((function(){e.updateHeight()}))}},{key:"setExampleText",value:function(e){this._exampleText=e,this.documentRef&&this.renderer.setAttribute(this.documentRef.body,"aria-placeholder",e)}},{key:"handleImageDrop",value:function(e){for(var t=this,n=0;n<e.files.length;n++){var o=e.files.item(n);if(o&&o.type.startsWith("image/")){this.imageLoader(o).pipe(Object(m.a)(1),Object(d.a)(this.destroy$)).subscribe((function(e){t.addImage(e)}));break}}}},{key:"addImage",value:function(e){this.computedDocument.execCommand("insertImage",!1,e)}},{key:"update",value:function(){this.updateValue(),this.updateHeight(),this.markForCheck()}},{key:"updateValue",value:function(){this._value=this.computedDocument.body.innerHTML,this.onChange(this._value)}},{key:"updateHeight",value:function(){if(this.documentRef){var e=this.documentRef.createRange();e.selectNodeContents(this.documentRef.body),this.renderer.setAttribute(this.elementRef.nativeElement,"height",String(e.getBoundingClientRect().height+26))}}},{key:"setSelectionAt",value:function(e,t){if(!this.computedDocument.caretRangeFromPoint&&!this.computedDocument.caretPositionFromPoint){var n=this.computedDocument.body.createTextRange();return n.moveToPoint(e,t),void n.select()}var o=this.computedDocument.caretRangeFromPoint?this.computedDocument.caretRangeFromPoint(e,t):this.computedDocument.createRange();if(!this.computedDocument.caretRangeFromPoint){var i=this.computedDocument.caretPositionFromPoint(e,t);if(!i)return;var r=i.offsetNode,a=i.offset;o.setStart(r,a),o.setEnd(r,a)}var u=this.computedDocument.defaultView,c=u?u.getSelection():null;u&&c&&(c.removeAllRanges(),c.addRange(o))}},{key:"sanitize",value:function(e){return(this.tuiSanitizer?this.tuiSanitizer.sanitize(i.SecurityContext.HTML,e):this.sanitizer.sanitize(i.SecurityContext.HTML,e))||""}},{key:"markForCheck",value:function(){var e=this;this.ngZone.run((function(){e.changeDetectorRef.markForCheck()}))}},{key:"exampleText",set:function(e){this.setExampleText(e)}},{key:"nativeFocusableElement",get:function(){return this.documentRef?this.documentRef.body:null}},{key:"focused",get:function(){return Object(c.isNativeFocused)(this.elementRef.nativeElement)}},{key:"documentRef",get:function(){return this.elementRef.nativeElement.contentDocument}},{key:"computedDocument",get:function(){var e=this.elementRef.nativeElement.contentDocument;if(!e)throw new Error("Only use computedDocument after load event");return e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](c.TuiDestroyService),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](a.b),i["\u0275\u0275directiveInject"](a.d),i["\u0275\u0275directiveInject"](i.Sanitizer),i["\u0275\u0275directiveInject"](s.TUI_SANITIZER,8))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["iframe","tuiDesignMode",""]],hostVars:2,hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("load",(function(){return t.onLoad()}))("mousedown",(function(){return t.onPointer("none")}),!1,i["\u0275\u0275resolveDocument"])("mouseup",(function(){return t.onPointer("all")}),!1,i["\u0275\u0275resolveDocument"]),2&e&&i["\u0275\u0275styleProp"]("pointer-events",t.pointerEvents)},inputs:{exampleText:"exampleText"},outputs:{focusedChange:"focusedChange"},exportAs:["tuiDesignMode"],features:[i["\u0275\u0275ProvidersFeature"]([c.TuiDestroyService,{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0},{provide:c.TUI_FOCUSABLE_ITEM_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e}))}])]}),Object(o.a)([Object(c.tuiRequiredSetter)()],e.prototype,"exampleText",null),e}()},"3FOu":function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var o=n("D57K"),i=n("EM62"),r=n("qfHc"),a=n("l4xa"),u=n("TjIJ"),c=n("2wTY"),s=n("SUM+"),l=n("gEyt"),d=n("nIj0"),p=n("fP8s"),f=n("2kYt"),h=n("okGw"),m=n("cVyY"),g=n("xcN3"),v=n("luNI"),b=n("WVof"),y=n("K506"),C=n("KzL3");function x(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"button",6),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275property"]("value",n),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n," ")}}function k(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tui-data-list"),i["\u0275\u0275template"](1,x,2,2,"button",5),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",n.modes)}}function w(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tui-primitive-textfield",7),i["\u0275\u0275listener"]("valueChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onHexChange(e)})),i["\u0275\u0275elementEnd"]()}if(2&e){var o=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("textMask",o.hexMask)("tuiTextfieldLabelOutside",!0)("tuiTextfieldMaxLength",6)("value",o.hex)}}function O(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tui-input-count",8),i["\u0275\u0275listener"]("ngModelChange",(function(e){i["\u0275\u0275restoreView"](n);var t=i["\u0275\u0275nextContext"]();return t.onRgbChange(e,t.color[1],t.color[2],t.color[3])})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](1,"tui-input-count",8),i["\u0275\u0275listener"]("ngModelChange",(function(e){i["\u0275\u0275restoreView"](n);var t=i["\u0275\u0275nextContext"]();return t.onRgbChange(t.color[0],e,t.color[2],t.color[3])})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"tui-input-count",8),i["\u0275\u0275listener"]("ngModelChange",(function(e){i["\u0275\u0275restoreView"](n);var t=i["\u0275\u0275nextContext"]();return t.onRgbChange(t.color[0],t.color[1],e,t.color[3])})),i["\u0275\u0275elementEnd"]()}if(2&e){var o=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("tuiTextfieldLabelOutside",!0)("hideButtons",!0)("max",255)("ngModel",o.color[0]),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("tuiTextfieldLabelOutside",!0)("hideButtons",!0)("max",255)("ngModel",o.color[1]),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("tuiTextfieldLabelOutside",!0)("hideButtons",!0)("max",255)("ngModel",o.color[2])}}var E=function(){var e=function(){function e(){_classCallCheck(this,e),this.color=[0,0,0,1],this.colorChange=new i.EventEmitter,this.hexMask={mask:function(e){var t=e.length;return Array.from({length:t},(function(){return/\d|[a-f]|[A-F]/}))},guide:!1},this.modes=["HEX","RGB"],this.mode=this.modes[0]}return _createClass(e,[{key:"onHexChange",value:function(e){if(6===e.length){var t=Object(r.c)(e);this.updateColor([t[0],t[1],t[2],this.color[3]])}}},{key:"onRgbChange",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.updateColor(t)}},{key:"updateColor",value:function(e){this.color=e,this.colorChange.emit(e)}},{key:"isHex",get:function(){return this.mode===this.modes[0]}},{key:"hex",get:function(){return Object(r.h)(this.color[0],this.color[1],this.color[2])}},{key:"opacity",get:function(){return 100*this.color[3]}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-color-edit"]],inputs:{color:"color"},outputs:{colorChange:"colorChange"},decls:6,vars:8,consts:[["tuiTextfieldSize","m","tuiDropdownAlign","left","tuiDropdownLimitWidth","min",1,"select","tui-group__auto-width-item",3,"tuiTextfieldLabelOutside","ngModel","ngModelChange"],[4,"tuiDataList"],["tuiValueAccessor","","tuiTextfieldSize","m",3,"textMask","tuiTextfieldLabelOutside","tuiTextfieldMaxLength","value","valueChange",4,"ngIf","ngIfElse"],["rgb",""],["postfix","%","tuiTextfieldSize","m",1,"opacity","tui-group__auto-width-item",3,"tuiTextfieldLabelOutside","hideButtons","max","ngModel","ngModelChange"],["size","xs","tuiOption","",3,"value",4,"ngFor","ngForOf"],["size","xs","tuiOption","",3,"value"],["tuiValueAccessor","","tuiTextfieldSize","m",3,"textMask","tuiTextfieldLabelOutside","tuiTextfieldMaxLength","value","valueChange"],["tuiTextfieldSize","m",3,"tuiTextfieldLabelOutside","hideButtons","max","ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tui-select",0),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.mode=e})),i["\u0275\u0275template"](1,k,2,1,"tui-data-list",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,w,1,4,"tui-primitive-textfield",2),i["\u0275\u0275template"](3,O,3,12,"ng-template",null,3,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementStart"](5,"tui-input-count",4),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.onRgbChange(t.color[0],t.color[1],t.color[2],e/100)})),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275reference"](4);i["\u0275\u0275property"]("tuiTextfieldLabelOutside",!0)("ngModel",t.mode),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.isHex)("ngIfElse",n),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("tuiTextfieldLabelOutside",!0)("hideButtons",!0)("max",100)("ngModel",t.opacity)}},directives:[u.a,c.b,s.a,l.b,d.NgControlStatus,d.NgModel,p.a,f.t,h.a,m.a,f.s,g.a,v.a,b.a,y.MaskedInputDirective,C.b],styles:["[_nghost-%COMP%]{display:flex}.select[_ngcontent-%COMP%]{width:4.875rem}.opacity[_ngcontent-%COMP%]{width:3.875rem}"],changeDetection:0}),Object(o.a)([Object(a.tuiDefaultProp)()],e.prototype,"color",void 0),e}()},"9Zcw":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("D57K"),i=n("EM62"),r=n("9cW9"),a=n("l4xa"),u=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.value=0,this.valueChange=new i.EventEmitter,t.subscribe((function(e){var t=_slicedToArray(e,1)[0];n.value=t,n.valueChange.emit(t)}))}return _createClass(e,[{key:"left",get:function(){return 100*this.value}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-linear-picker"]],inputs:{value:"value"},outputs:{valueChange:"valueChange"},features:[i["\u0275\u0275ProvidersFeature"]([a.TuiDestroyService,r.a])],decls:1,vars:2,consts:[[1,"circle"]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"div",0),2&e&&i["\u0275\u0275styleProp"]("left",t.left,"%")},styles:["[_nghost-%COMP%]{position:relative;display:block;height:1rem;box-sizing:border-box}.circle[_ngcontent-%COMP%]{position:absolute;width:1rem;height:1rem;border-radius:100%;margin:0 -.5rem;box-shadow:inset 0 0 0 2px var(--tui-base-01),0 0 0 1px var(--tui-base-03)}"],changeDetection:0}),Object(o.a)([Object(a.tuiDefaultProp)()],e.prototype,"value",void 0),e}()},"9cW9":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var o,i=n("2kYt"),r=n("EM62"),a=n("qfHc"),u=n("l4xa"),c=n("IdLP"),s=n("TLy2"),l=n("YtkY"),d=n("kuMc"),p=n("jIqt"),f=((o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,i){var r=o.nativeElement;_classCallCheck(this,n);var c=Object(u.typedFromEvent)(r,"mousedown").pipe(Object(u.preventDefault)(),Object(s.a)((function(e){var t=Object(u.typedFromEvent)(i,"mousemove").pipe(Object(l.a)((function(e){var t=e.clientX,n=e.clientY;return Object(a.a)(t,n,r)})),Object(d.a)(Object(u.typedFromEvent)(i,"mouseup")));return e.target===r?t.pipe(Object(p.a)(Object(a.a)(e.clientX,e.clientY,r))):t})),Object(d.a)(e));return t.call(this,(function(e){return c.subscribe(e)}))}return n}(c.a)).\u0275fac=function(e){return new(e||o)(r["\u0275\u0275inject"](u.TuiDestroyService),r["\u0275\u0275inject"](r.ElementRef),r["\u0275\u0275inject"](i.e))},o.\u0275prov=r["\u0275\u0275defineInjectable"]({token:o,factory:o.\u0275fac}),o)},ACCV:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n("UeI1");var o,i=n("2kYt"),r=n("Qq0t"),a=n("EM62"),u=((o=function e(){_classCallCheck(this,e)}).\u0275mod=a["\u0275\u0275defineNgModule"]({type:o}),o.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||o)},imports:[[i.c,r.TuiHintModule,r.TuiDescribedByModule]]}),o)},IR5z:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o=function(e){return e.Undo="undo",e.Size="fontSize",e.Bold="bold",e.Italic="italic",e.Underline="underline",e.Strikethrough="strikeThrough",e.Align="justify",e.List="list",e.Quote="quote",e.Color="foreColor",e.Hilite="hiliteColor",e.Clear="clear",e.Link="link",e.Attach="attach",e.Tex="tex",e.Code="code",e.Img="image",e.HR="insertHorizontalRule",e.Sup="superscript",e.Sub="subscript",e}({})},JuXl:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("D57K"),i=n("EM62"),r=n("9cW9"),a=n("l4xa"),u=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.value=[0,0],this.valueChange=new i.EventEmitter,t.subscribe((function(e){n.value=e,n.valueChange.emit([e[0],e[1]])}))}return _createClass(e,[{key:"left",get:function(){return 100*this.value[0]}},{key:"top",get:function(){return 100*this.value[1]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-flat-picker"]],inputs:{value:"value"},outputs:{valueChange:"valueChange"},features:[i["\u0275\u0275ProvidersFeature"]([a.TuiDestroyService,r.a])],decls:1,vars:4,consts:[[1,"circle"]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"div",0),2&e&&i["\u0275\u0275styleProp"]("left",t.left,"%")("top",t.top,"%")},styles:["[_nghost-%COMP%]{position:relative;display:block}.circle[_ngcontent-%COMP%]{position:absolute;width:1rem;height:1rem;border-radius:100%;margin:-.5rem 0 0 -.5rem;box-shadow:inset 0 0 0 1px var(--tui-base-01),0 0 0 .0625rem var(--tui-base-03)}"],changeDetection:0}),Object(o.a)([Object(a.tuiDefaultProp)()],e.prototype,"value",void 0),e}()},MQ7l:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var o=n("2kYt"),i=n("EM62"),r=n("l4xa"),a=n("Qq0t"),u=n("o9ES"),c=n("oW5P"),s=n("nIj0"),l=n("ONKv"),d=n("zV1d"),p=n("yZWP");function f(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"label",2),i["\u0275\u0275text"](2," URL "),i["\u0275\u0275elementStart"](3,"span",3),i["\u0275\u0275text"](4),i["\u0275\u0275elementStart"](5,"tui-input-inline",4),i["\u0275\u0275listener"]("ngModelChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onChange(e)}))("keydown.enter",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onSave()}))("keydown.backspace",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onBackspace()})),i["\u0275\u0275text"](6," example.com "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"tui-svg",5),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onClear()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"button",6),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onSave()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){var o=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",o.prefix," "),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("input_filled",o.hasUrl),i["\u0275\u0275property"]("ngModel",o.url),i["\u0275\u0275advance"](2),i["\u0275\u0275classProp"]("cleaner_hidden",!o.hasUrl)}}function h(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"a",7),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"button",8),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onEdit()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",9),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onRemove()})),i["\u0275\u0275elementEnd"]()}if(2&e){var o=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("href",o.href,i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",o.shortUrl," ")}}var m=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.addLink=new i.EventEmitter,this.removeLink=new i.EventEmitter,this.prefix="http://";var o=(n||t).getSelection();this.url=o?this.getHref(o):"",this.edit=!this.url}return _createClass(e,[{key:"onMouseDown",value:function(e){var t=e.target instanceof HTMLElement?e.target.tagName.toLowerCase():"";"a"!==t&&"button"!==t&&"input"!==t&&e.preventDefault()}},{key:"onSave",value:function(){this.url?this.addLink.emit(this.href):this.removeLink.emit()}},{key:"onBackspace",value:function(){this.url||(this.prefix="http://")}},{key:"onEdit",value:function(){this.edit=!0}},{key:"onRemove",value:function(){this.removeLink.emit()}},{key:"onChange",value:function(e){this.url=this.removePrefix(e)}},{key:"onClear",value:function(){this.url=""}},{key:"getHref",value:function(e){var t=e.focusNode;if(!t||!t.parentElement)return"";var n=Object(r.getClosestElement)(t.parentElement,"a");return n?this.removePrefix(n.getAttribute("href")||""):""}},{key:"removePrefix",value:function(e){return e.startsWith("http://")?(this.prefix="http://",e.replace("http://","")):e.startsWith("https://")?(this.prefix="https://",e.replace("https://","")):e}},{key:"hasUrl",get:function(){return!!this.url}},{key:"href",get:function(){return"".concat(this.prefix).concat(this.url)}},{key:"shortUrl",get:function(){return this.url.length<60?this.url:this.url.substr(0,40)+"..."+this.url.substr(this.url.length-10)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.e),i["\u0275\u0275directiveInject"](a.TUI_DOCUMENT_OR_SHADOW_ROOT,8))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-edit-link"]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("mousedown",(function(e){return t.onMouseDown(e)}))},outputs:{addLink:"addLink",removeLink:"removeLink"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["view",""],[1,"label"],[1,"url"],["tuiAutoFocus","",1,"input",3,"ngModel","ngModelChange","keydown.enter","keydown.backspace"],["src","tuiIconCloseLarge",1,"cleaner",3,"click"],["tuiIconButton","","type","button","size","s","title","Insert link","icon","tuiIconCheckCircleLarge","shape","rounded","appearance","icon",1,"button",3,"click"],["tuiLink","","target","_blank",1,"link",3,"href"],["tuiIconButton","","type","button","size","s","title","Change link","icon","tuiIconEditLarge","shape","rounded","appearance","icon",1,"button",3,"click"],["tuiIconButton","","type","button","size","s","title","Remove link","icon","tuiIconTrashLarge","shape","rounded","appearance","icon",1,"button",3,"click"]],template:function(e,t){if(1&e&&(i["\u0275\u0275template"](0,f,9,6,"ng-container",0),i["\u0275\u0275template"](1,h,4,2,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"])),2&e){var n=i["\u0275\u0275reference"](2);i["\u0275\u0275property"]("ngIf",t.edit)("ngIfElse",n)}},directives:[o.t,u.a,c.a,s.NgControlStatus,s.NgModel,l.a,d.a,p.a],styles:["[_nghost-%COMP%]{display:flex;align-items:center;padding-right:.75rem}.label[_ngcontent-%COMP%], [_nghost-%COMP%]{height:var(--tui-height-l)}.label[_ngcontent-%COMP%]{font:var(--tui-font-text-s);box-sizing:border-box;padding:.4375rem 1rem;min-width:12.5rem;max-width:25rem}.url[_ngcontent-%COMP%]{font:var(--tui-font-text-m);display:flex;color:var(--tui-text-02)}.input[_ngcontent-%COMP%]{flex:1}.input_filled[_ngcontent-%COMP%]{color:var(--tui-text-01)}.button[_ngcontent-%COMP%]{width:2rem;height:2rem;margin:0 .25rem;transition:background .2s}.link[_ngcontent-%COMP%]{margin:0 1rem}.cleaner[_ngcontent-%COMP%]{transition-property:color;transition-duration:var(--tui-duration,.3s);transition-timing-function:ease-in-out;color:var(--tui-base-06);cursor:pointer}.cleaner[_ngcontent-%COMP%]:hover{color:var(--tui-base-07)}.cleaner_hidden[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0}),e}()},"N+cQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n("JuXl");var o,i=n("2kYt"),r=n("EM62"),a=((o=function e(){_classCallCheck(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:o}),o.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||o)},imports:[[i.c]]}),o)},O7x8:function(e,t,n){"use strict";n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return a}));var o,i=n("2DeP"),r=n("EM62"),a=((o=function e(){_classCallCheck(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:o}),o.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||o)}}),o)},OXFH:function(e,t,n){"use strict";n.d(t,"a",(function(){return fe}));var o=n("D57K"),i=n("2kYt"),r=n("EM62"),a=n("9qw2"),u=n("ssuq"),c=n("IR5z"),s=n("ZGpP"),l=n("qfHc"),d=n("l4xa"),p=n("Qq0t"),f=n("dvRg"),h=n("g6G6"),m=n("kuMc"),g=n("J+dc"),v=n("vfve"),b=n("zV1d"),y=n("fHzR"),C=n("tNxS"),x=n("q7Lq"),k=n("cVyY"),w=n("xcN3"),O=n("MQ7l"),E=n("SUM+"),I=n("RZBz"),_=n("4hRd"),S=["button"],M=["dropdown"];function P(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275elementStart"](1,"button",3,4),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().undo()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"button",5,6),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().redo()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275reference"](3),i=r["\u0275\u0275reference"](6),a=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("tuiHint",a.texts.undo)("tuiHintId",o.id)("tuiDescribedBy",o.id)("disabled",a.undoDisabled)("focusable",!1),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("tuiHint",a.texts.redo)("tuiHintId",i.id)("tuiDescribedBy",i.id)("disabled",a.redoDisabled)("focusable",!1)}}function R(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",14),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](n);var e=t.$implicit;return r["\u0275\u0275nextContext"](3).onFont(e.size)})),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()}if(2&e){var o=t.$implicit;r["\u0275\u0275styleProp"]("font-family",o.family)("font-size",o.px,"px"),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",o.name," ")}}function D(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"tui-data-list",null,12),r["\u0275\u0275template"](2,R,2,5,"button",13),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",n.fontsOptions)}}function T(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275elementStart"](1,"tui-hosted-dropdown",7,8),r["\u0275\u0275elementStart"](3,"button",9,10),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onArrowRight()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](6,D,3,1,"ng-template",null,11,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275reference"](2),i=r["\u0275\u0275reference"](5),a=r["\u0275\u0275reference"](7),u=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("content",a),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",u.texts.font)("tuiHintId",i.id)("tuiDescribedBy",i.id)("pseudoPressed",o.open)("focusable",o.open)}}function j(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",28),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](4).toggleBold()})),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275nextContext"](4);r["\u0275\u0275property"]("tuiHint",o.texts.bold)("pseudoPressed",o.bold)}}function L(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",29),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](4).toggleItalic()})),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275nextContext"](4);r["\u0275\u0275property"]("tuiHint",o.texts.italic)("pseudoPressed",o.italic)}}function H(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",30),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](4).toggleUnderline()})),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275nextContext"](4);r["\u0275\u0275property"]("tuiHint",o.texts.underline)("pseudoPressed",o.underline)}}function z(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",31),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](4).toggleStrikeThrough()})),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275nextContext"](4);r["\u0275\u0275property"]("tuiHint",o.texts.strikeThrough)("pseudoPressed",o.strikeThrough)}}function V(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",23,12),r["\u0275\u0275template"](2,j,1,2,"button",24),r["\u0275\u0275template"](3,L,1,2,"button",25),r["\u0275\u0275template"](4,H,1,2,"button",26),r["\u0275\u0275template"](5,z,1,2,"button",27),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",n.enabled(n.TuiEditorTool.Bold)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.enabled(n.TuiEditorTool.Italic)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.enabled(n.TuiEditorTool.Underline)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.enabled(n.TuiEditorTool.Strikethrough))}}function A(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-hosted-dropdown",7,19),r["\u0275\u0275elementStart"](2,"button",20,21),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowRight()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](5,V,6,4,"ng-template",null,22,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275reference"](1),i=r["\u0275\u0275reference"](4),a=r["\u0275\u0275reference"](6),u=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("content",a),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",u.texts.fontStyle)("tuiHintId",i.id)("tuiDescribedBy",i.id)("pseudoPressed",o.open||u.bold||u.italic||u.underline||u.strikeThrough)("focusable",o.open)}}function B(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",23,12),r["\u0275\u0275elementStart"](2,"button",36),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](3).onAlign("justifyLeft")})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"button",37),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](3).onAlign("justifyCenter")})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"button",38),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](3).onAlign("justifyRight")})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"button",39),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](3).onAlign("justifyFull")})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",o.texts.justifyLeft),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("tuiHint",o.texts.justifyCenter),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("tuiHint",o.texts.justifyRight),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("tuiHint",o.texts.justifyFull)}}function F(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-hosted-dropdown",7,32),r["\u0275\u0275elementStart"](2,"button",33,34),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowRight()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](5,B,6,4,"ng-template",null,35,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275reference"](1),i=r["\u0275\u0275reference"](4),a=r["\u0275\u0275reference"](6),u=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("content",a),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",u.texts.justify)("tuiHintId",i.id)("tuiDescribedBy",i.id)("pseudoPressed",o.open)("focusable",o.open)}}function N(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",23,12),r["\u0275\u0275elementStart"](2,"button",44),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](3).toggleUnorderedList()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"button",45),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](3).toggleOrderedList()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"button",46),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](3).indent()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"button",47),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](3).outdent()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",o.texts.unorderedList)("pseudoPressed",o.unorderedList),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("tuiHint",o.texts.orderedList)("pseudoPressed",o.orderedList),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("tuiHint",o.texts.indent)("disabled",!o.unorderedList&&!o.orderedList),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("tuiHint",o.texts.outdent)("disabled",!o.unorderedList&&!o.orderedList)}}function q(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-hosted-dropdown",7,40),r["\u0275\u0275elementStart"](2,"button",41,42),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowRight()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](5,N,6,8,"ng-template",null,43,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275reference"](1),i=r["\u0275\u0275reference"](4),a=r["\u0275\u0275reference"](6),u=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("content",a),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",u.texts.list)("tuiHintId",i.id)("tuiDescribedBy",i.id)("pseudoPressed",o.open||u.unorderedList||u.orderedList)("focusable",o.open)}}function U(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",48,49),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).toggleQuote()})),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275reference"](2),i=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("tuiHint",i.texts.quote)("tuiHintId",o.id)("tuiDescribedBy",o.id)("pseudoPressed",i.blockquote)("disabled",i.unorderedList||i.orderedList)("focusable",!1)}}function Q(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-edit-link",55,12),r["\u0275\u0275listener"]("addLink",(function(e){r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]();var t=r["\u0275\u0275reference"](1);return r["\u0275\u0275nextContext"](2).onLink(t,e)}))("removeLink",(function(){r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]();var e=r["\u0275\u0275reference"](1);return r["\u0275\u0275nextContext"](2).onLink(e)})),r["\u0275\u0275elementEnd"]()}}function Y(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-hosted-dropdown",50,51),r["\u0275\u0275elementStart"](2,"button",52,53),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onLinkClick()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](5,Q,2,0,"ng-template",null,54,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275reference"](1),i=r["\u0275\u0275reference"](4),a=r["\u0275\u0275reference"](6),u=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("canOpen",!u.a)("content",a),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",u.texts.link)("tuiHintId",i.id)("tuiDescribedBy",i.id)("pseudoPressed",o.open||u.a)("focusable",o.open)}}function W(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",56,57),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onAttach()})),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275reference"](2),i=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("tuiHint",i.texts.attach)("tuiHintId",o.id)("tuiDescribedBy",o.id)("focusable",!1)}}function Z(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275template"](1,A,7,6,"tui-hosted-dropdown",15),r["\u0275\u0275template"](2,F,7,6,"tui-hosted-dropdown",15),r["\u0275\u0275template"](3,q,7,6,"tui-hosted-dropdown",15),r["\u0275\u0275template"](4,U,3,6,"button",16),r["\u0275\u0275template"](5,Y,7,7,"tui-hosted-dropdown",17),r["\u0275\u0275template"](6,W,3,4,"button",18),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.formatEnabled),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.enabled(n.TuiEditorTool.Align)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.enabled(n.TuiEditorTool.List)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.enabled(n.TuiEditorTool.Quote)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.enabled(n.TuiEditorTool.Link)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.enabled(n.TuiEditorTool.Attach))}}function G(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",60,61),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).toggleSubscript()})),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275reference"](2),i=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("tuiHint",i.texts.subscript)("tuiHintId",o.id)("tuiDescribedBy",o.id)("pseudoPressed",i.subscript)("focusable",!1)}}function K(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",62,63),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).toggleSuperscript()})),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275reference"](2),i=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("tuiHint",i.texts.superscript)("tuiHintId",o.id)("tuiDescribedBy",o.id)("pseudoPressed",i.superscript)("focusable",!1)}}function $(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275template"](1,G,3,5,"button",58),r["\u0275\u0275template"](2,K,3,5,"button",59),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.enabled(n.TuiEditorTool.Sub)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.enabled(n.TuiEditorTool.Sup))}}function X(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-color-selector",71),r["\u0275\u0275listener"]("colorChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](3).setForeColor(e)})),r["\u0275\u0275elementEnd"]()}if(2&e){var o=t.$implicit,i=r["\u0275\u0275nextContext"](3);r["\u0275\u0275property"]("tuiActiveZoneParent",o)("colors",i.colors)("color",i.foreColor)}}function J(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-hosted-dropdown",65,66),r["\u0275\u0275elementStart"](2,"button",67,68),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowRight()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](5,"div",69),r["\u0275\u0275template"](6,X,1,3,"ng-template",null,70,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275reference"](1),i=r["\u0275\u0275reference"](4),a=r["\u0275\u0275reference"](7),u=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("content",a)("tuiDropdownMaxHeight",999),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",u.texts.foreColor)("tuiHintId",i.id)("tuiDescribedBy",i.id)("pseudoPressed",o.open)("focusable",o.open),r["\u0275\u0275advance"](3),r["\u0275\u0275styleProp"]("background",u.foreColor,r["\u0275\u0275defaultStyleSanitizer"])}}function ee(e,t){if(1&e&&r["\u0275\u0275element"](0,"div",69),2&e){var n=r["\u0275\u0275nextContext"](3);r["\u0275\u0275styleProp"]("background",n.hiliteColor,r["\u0275\u0275defaultStyleSanitizer"])}}function te(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-color-selector",71),r["\u0275\u0275listener"]("colorChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](3).setHiliteColor(e)})),r["\u0275\u0275elementEnd"]()}if(2&e){var o=t.$implicit,i=r["\u0275\u0275nextContext"](3);r["\u0275\u0275property"]("tuiActiveZoneParent",o)("colors",i.colors)("color",i.hiliteColor)}}function ne(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-hosted-dropdown",65,72),r["\u0275\u0275elementStart"](2,"button",73,74),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowRight()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](5,ee,1,2,"div",75),r["\u0275\u0275template"](6,te,1,3,"ng-template",null,76,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275reference"](1),i=r["\u0275\u0275reference"](4),a=r["\u0275\u0275reference"](7),u=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("content",a)("tuiDropdownMaxHeight",999),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",u.texts.backColor)("tuiHintId",i.id)("tuiDescribedBy",i.id)("pseudoPressed",o.open)("focusable",o.open),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",!u.hiliteColorBlank)}}function oe(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275template"](1,J,8,9,"tui-hosted-dropdown",64),r["\u0275\u0275template"](2,ne,8,8,"tui-hosted-dropdown",64),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.enabled(n.TuiEditorTool.Color)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.enabled(n.TuiEditorTool.Hilite))}}function ie(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",14),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](n);var e=t.$implicit;return r["\u0275\u0275nextContext"](4).onCode(e)})),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()}if(2&e){var o=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",o," ")}}function re(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"tui-data-list",null,12),r["\u0275\u0275template"](2,ie,2,1,"button",84),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",n.codesOptions)}}function ae(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-hosted-dropdown",7,80),r["\u0275\u0275elementStart"](2,"button",81,82),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowRight()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](5,re,3,1,"ng-template",null,83,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275reference"](1),i=r["\u0275\u0275reference"](4),a=r["\u0275\u0275reference"](6),u=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("content",a),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",u.texts.code)("tuiHintId",i.id)("tuiDescribedBy",i.id)("pseudoPressed",o.open||u.code||u.pre)("focusable",o.open)}}function ue(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",85,86),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onTeX()})),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275reference"](2),i=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("tuiHint",i.texts.tex)("tuiHintId",o.id)("tuiDescribedBy",o.id)("focusable",!1)}}function ce(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",87),r["\u0275\u0275elementStart"](1,"input",88,89),r["\u0275\u0275listener"]("change",(function(){r["\u0275\u0275restoreView"](n);var e=r["\u0275\u0275reference"](2);return r["\u0275\u0275nextContext"](2).onImage(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"button",90,91),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275reference"](2).click()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275reference"](4),i=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("tuiFocusable",!1),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("tuiHint",i.texts.image)("id",o.id)("tuiHintId",o.id)("focusable",!1)}}function se(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",92,93),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).insertHorizontalRule()})),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275reference"](2),i=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("tuiHint",i.texts.insertHorizontalRule)("tuiHintId",o.id)("tuiDescribedBy",o.id)("focusable",!1)}}function le(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275template"](1,ae,7,6,"tui-hosted-dropdown",15),r["\u0275\u0275template"](2,ue,3,4,"button",77),r["\u0275\u0275template"](3,ce,5,5,"div",78),r["\u0275\u0275template"](4,se,3,4,"button",79),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.enabled(n.TuiEditorTool.Code)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.enabled(n.TuiEditorTool.Tex)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.enabled(n.TuiEditorTool.Img)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.enabled(n.TuiEditorTool.HR))}}function de(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275elementStart"](1,"button",94,95),r["\u0275\u0275listener"]("keydown.arrowLeft.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onArrowLeft()}))("keydown.arrowRight.prevent",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onArrowRight()}))("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().removeFormat()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275reference"](3),i=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("tuiHint",i.texts.clear)("tuiHintId",o.id)("tuiDescribedBy",o.id)("focusable",!1)}}function pe(e){return-1===e.indexOf(c.a.Tex)&&-1===e.indexOf(c.a.Attach)}var fe=function(){var e=function(){function e(t,n,o,i,a,s,l,p,f){var g=this;_classCallCheck(this,e),this.destroy$=t,this.elementRef=s,this.imageLoader=l,this.userAgent=p,this.texts=f,this.tools=u.c,this.colors=u.a,this.editor=null,this.disabled=!1,this.linkAdded=new r.EventEmitter,this.texClicked=new r.EventEmitter,this.attachClicked=new r.EventEmitter,this.TuiEditorTool=c.a,this.fontsOptions=[{size:"2",px:13,name:"Small"},{size:"3",px:15,name:"Normal"},{size:"4",px:17,name:"Large"},{size:"5",px:24,family:"var(--tui-font-heading)",name:"Subtitle"},{size:"6",px:30,family:"var(--tui-font-heading)",name:"Title"}],this.codesOptions=["Code in the text","Code in block"],this.buttons=d.EMPTY_QUERY,this.dropdowns=d.EMPTY_QUERY,this.range=null,this.documentRef=a||i,Object(h.a)(Object(d.typedFromEvent)(this.documentRef,"selectionchange"),Object(d.typedFromEvent)(this.documentRef,"input")).pipe(Object(m.a)(t)).subscribe((function(){g.refreshRange(),n.run((function(){o.markForCheck()}))}))}return _createClass(e,[{key:"onBottomFocus",value:function(){this.focusLast()}},{key:"onTopFocus",value:function(){this.focusFirst()}},{key:"onArrowLeft",value:function(){var e=this.buttons.reduce((function(e,t,n){return t.focused?n:e}),-1),t=this.buttons.reduce((function(t,n,o){var i=n.nativeFocusableElement;return o<e&&i?i:t}),null);t?Object(d.setNativeFocused)(t):this.focusLast()}},{key:"onArrowRight",value:function(){var e=this.buttons.reduce((function(e,t,n){return t.focused?n:e}),-1),t=this.buttons.find((function(t,n){var o=t.nativeFocusableElement;return n>e&&!!o}));t&&t.nativeFocusableElement?Object(d.setNativeFocused)(t.nativeFocusableElement):this.focusFirst()}},{key:"onFont",value:function(e){this.focusEditor(),this.documentRef.execCommand("fontSize",!1,e)}},{key:"onAlign",value:function(e){this.focusEditor(),this.documentRef.execCommand(e)}},{key:"onImage",value:function(e){var t=this,n=e.files&&e.files[0];n&&this.imageLoader(n).pipe(Object(g.a)(1),Object(m.a)(this.destroy$)).subscribe((function(e){t.addImage(e)})),e.value=""}},{key:"onAttach",value:function(){this.attachClicked.emit()}},{key:"onTeX",value:function(){this.texClicked.emit()}},{key:"onLinkClick",value:function(){this.focusEditor()}},{key:"onLink",value:function(e,t){e.open=!1,t&&this.linkAdded.emit(t)}},{key:"onCode",value:function(e){this.codesOptions[0]===e?this.toggleCode():this.togglePre()}},{key:"enabled",value:function(e){return-1!==this.tools.indexOf(e)}},{key:"undo",value:function(){this.focusEditor(),this.documentRef.execCommand("undo")}},{key:"redo",value:function(){this.focusEditor(),this.documentRef.execCommand("redo")}},{key:"indent",value:function(){this.focusEditor(),this.documentRef.execCommand("indent")}},{key:"outdent",value:function(){this.focusEditor(),this.documentRef.execCommand("outdent")}},{key:"insertHorizontalRule",value:function(){this.focusEditor(),this.documentRef.execCommand("insertHorizontalRule")}},{key:"removeFormat",value:function(){this.focusEditor(),this.documentRef.execCommand("removeFormat")}},{key:"setForeColor",value:function(e){this.focusEditor(),this.documentRef.execCommand("foreColor",!1,e)}},{key:"setHiliteColor",value:function(e){this.focusEditor(),this.documentRef.execCommand("hiliteColor",!1,e)}},{key:"toggleBold",value:function(){this.focusEditor(),this.documentRef.execCommand("bold")}},{key:"toggleItalic",value:function(){this.focusEditor(),this.documentRef.execCommand("italic")}},{key:"toggleUnderline",value:function(){this.focusEditor(),this.documentRef.execCommand("underline")}},{key:"toggleStrikeThrough",value:function(){this.focusEditor(),this.documentRef.execCommand("strikeThrough")}},{key:"toggleOrderedList",value:function(){this.focusEditor(),this.documentRef.execCommand("insertOrderedList")}},{key:"toggleUnorderedList",value:function(){this.focusEditor(),this.documentRef.execCommand("insertUnorderedList")}},{key:"toggleQuote",value:function(){this.blockquote?this.outdent():this.indent()}},{key:"toggleSubscript",value:function(){this.focusEditor(),this.documentRef.execCommand("subscript")}},{key:"toggleSuperscript",value:function(){this.focusEditor(),this.documentRef.execCommand("superscript")}},{key:"toggleCode",value:function(){this.focusEditor(),this.documentRef.execCommand("fontName",!1,this.code?"haas, helvetica, arial, sans-serif":"Courier")}},{key:"togglePre",value:function(){var e=this,t=this.documentRef.getSelection();if(t&&!t.isCollapsed&&this.pre){var n=Array.prototype.slice.call(t.getRangeAt(0).cloneContents().childNodes).map((function(t){if(!t.tagName||"pre"!==t.tagName.toLowerCase())return t;var n=e.documentRef.createElement("p");return n.innerHTML=t.innerHTML,n})).reduce((function(e,t){return e+(t.outerHTML||t.nodeValue)}),"");Object(l.k)(this.documentRef,n),this.focusEditor()}else this.documentRef.execCommand("formatBlock",!1,this.pre?"<P>":"<PRE>")}},{key:"addImage",value:function(e){this.focusEditor(),this.documentRef.execCommand("insertImage",!1,e)}},{key:"focusFirst",value:function(){var e=this.firstButton;e&&Object(d.setNativeFocused)(e)}},{key:"focusLast",value:function(){var e=this.lastButton;e&&Object(d.setNativeFocused)(e)}},{key:"refreshRange",value:function(){var e=this.documentRef.defaultView?this.documentRef.defaultView.getSelection():null;e&&this.editor&&this.editor.contains(e.anchorNode)&&this.editor.contains(e.focusNode)&&(this.range=e.getRangeAt(0))}},{key:"restoreRange",value:function(){var e=this.documentRef.defaultView?this.documentRef.defaultView.getSelection():null;e&&this.range&&this.editor&&!this.editor.contains(e.anchorNode)&&!this.editor.contains(e.focusNode)&&(e.removeAllRanges(),e.addRange(this.range))}},{key:"focusEditor",value:function(){this.restoreRange(),this.editor?Object(d.setNativeFocused)(this.editor,!0,!0):Object(d.setNativeFocused)(this.documentRef.body,!0,!0)}},{key:"numberToColor",value:function(e){return"rgb(".concat(255&e,", ").concat((65280&e)>>8,", ").concat((16711680&e)>>16,")")}},{key:"focused",get:function(){return Object(d.isNativeFocusedIn)(this.elementRef.nativeElement)||!!this.dropdowns.find((function(e){var t=e.nativeElement;return Object(d.isNativeFocusedIn)(t)}))}},{key:"focusable",get:function(){return!this.focused&&!this.disabled}},{key:"firstButton",get:function(){var e=this.buttons.find((function(e){return!!e.nativeFocusableElement}));return e&&e.nativeFocusableElement?e.nativeFocusableElement:null}},{key:"lastButton",get:function(){return this.buttons.reduce((function(e,t){return t.nativeFocusableElement||e}),null)}},{key:"bold",get:function(){return this.documentRef.queryCommandState("bold")}},{key:"italic",get:function(){return this.documentRef.queryCommandState("italic")}},{key:"underline",get:function(){return this.documentRef.queryCommandState("underline")}},{key:"strikeThrough",get:function(){return this.documentRef.queryCommandState("strikeThrough")}},{key:"unorderedList",get:function(){return this.documentRef.queryCommandState("insertUnorderedList")}},{key:"orderedList",get:function(){return this.documentRef.queryCommandState("insertOrderedList")}},{key:"blockquote",get:function(){var e=this.documentRef.getSelection();return!!e&&Object(l.e)(e,"blockquote")}},{key:"a",get:function(){var e=this.documentRef.getSelection();return!!e&&Object(l.e)(e,"a")}},{key:"foreColorBlank",get:function(){return"rgb(51, 51, 51)"===this.foreColor}},{key:"hiliteColorBlank",get:function(){var e=this.hiliteColor;return!e||String(e)===String(16777215)||"transparent"===e||"rgba(0, 0, 0, 0)"===e||"rgb(0, 0, 0)"===e&&!this.focused}},{key:"undoDisabled",get:function(){return!this.documentRef.queryCommandEnabled("undo")}},{key:"redoDisabled",get:function(){return!this.documentRef.queryCommandEnabled("redo")}},{key:"code",get:function(){return!this.pre&&"Courier"===(this.documentRef.queryCommandValue("fontName")||"").replace(/"/g,"")}},{key:"pre",get:function(){var e=this.documentRef.getSelection();return!!e&&Object(l.e)(e,"pre")}},{key:"subscript",get:function(){return this.documentRef.queryCommandState("subscript")}},{key:"superscript",get:function(){return this.documentRef.queryCommandState("superscript")}},{key:"foreColor",get:function(){var e=this.documentRef.queryCommandValue("foreColor")||"rgb(51, 51, 51)";return Object(d.isNumber)(e)?this.numberToColor(e):e}},{key:"hiliteColor",get:function(){if(!Object(d.isFirefox)(this.userAgent)){var e=this.documentRef.queryCommandValue("backColor");return Object(d.isNumber)(e)&&16777215!==e?this.numberToColor(e):e}for(var t=this.documentRef.getSelection(),n=t&&t.focusNode instanceof HTMLElement?t.focusNode:null;n;){if(n.style&&n.style.backgroundColor)return n.style.backgroundColor;n=n.parentElement}return""}},{key:"formatEnabled",get:function(){return this.enabled(c.a.Bold)||this.enabled(c.a.Italic)||this.enabled(c.a.Underline)||this.enabled(c.a.Strikethrough)}},{key:"firstBigBlockEnabled",get:function(){return this.formatEnabled||this.enabled(c.a.Align)||this.enabled(c.a.List)||this.enabled(c.a.Quote)||this.enabled(c.a.Link)||this.enabled(c.a.Attach)}},{key:"secondBigBlockEnabled",get:function(){return this.enabled(c.a.Code)||this.enabled(c.a.Tex)||this.enabled(c.a.Img)||this.enabled(c.a.HR)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](d.TuiDestroyService),r["\u0275\u0275directiveInject"](r.NgZone),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef),r["\u0275\u0275directiveInject"](i.e),r["\u0275\u0275directiveInject"](p.TUI_DOCUMENT_OR_SHADOW_ROOT,8),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](s.d),r["\u0275\u0275directiveInject"](a.g),r["\u0275\u0275directiveInject"](s.c))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-toolbar"]],viewQuery:function(e,t){var n;1&e&&(r["\u0275\u0275viewQuery"](S,!0),r["\u0275\u0275viewQuery"](M,!0,r.ElementRef)),2&e&&(r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.buttons=n),r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.dropdowns=n))},hostAttrs:["role","toolbar",1,"tui-zero-scrollbar"],hostVars:2,hostBindings:function(e,t){2&e&&r["\u0275\u0275classProp"]("_disabled",t.disabled)},inputs:{tools:"tools",colors:"colors",editor:"editor",disabled:"disabled"},outputs:{linkAdded:"linkAdded",texClicked:"texClicked",attachClicked:"attachClicked"},features:[r["\u0275\u0275ProvidersFeature"]([d.TuiDestroyService,f.LEFT_ALIGNED_DROPDOWN_CONTROLLER_PROVIDER])],decls:9,vars:9,consts:[[3,"tuiFocusable","focus"],["class","block",4,"ngIf"],[1,"block"],["tuiIconButton","","type","button","size","s","icon","tuiIconUndoLarge","appearance","icon","tuiHintDirection","top-left",1,"button","button_margin",3,"tuiHint","tuiHintId","tuiDescribedBy","disabled","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button","","undoBtn",""],["tuiIconButton","","type","button","size","s","icon","tuiIconRedoLarge","appearance","icon","tuiHintDirection","top-left",1,"button","button_margin",3,"tuiHint","tuiHintId","tuiDescribedBy","disabled","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button","","redoBtn",""],[1,"wrapper",3,"content"],["fonts",""],["tuiIconButton","","type","button","size","s","appearance","icon","icon","tuiIconFontLarge","tuiHintDirection","top-left",1,"button",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent"],["button","","fontsBtn",""],["fontsDropdown",""],["dropdown",""],["tuiOption","",3,"fontFamily","fontSize","click",4,"ngFor","ngForOf"],["tuiOption","",3,"click"],["class","wrapper",3,"content",4,"ngIf"],["tuiIconButton","","type","button","size","s","icon","tuiIconQuoteLarge","appearance","icon","class","button button_margin","tuiHintDirection","top-left",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","disabled","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click",4,"ngIf"],["class","wrapper",3,"canOpen","content",4,"ngIf"],["tuiIconButton","","type","button","size","s","icon","tuiIconAttachLarge","class","button button_margin","appearance","icon","tuiHintDirection","top-left",3,"tuiHint","tuiHintId","tuiDescribedBy","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click",4,"ngIf"],["format",""],["tuiIconButton","","type","button","size","s","icon","tuiIconFormatLarge","appearance","icon","tuiHintDirection","top-left",1,"button",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent"],["button","","formatBtn",""],["formatDropdown",""],[1,"dropdown"],["tuiIconButton","","type","button","size","s","icon","tuiIconBoldLarge","appearance","icon","class","button button_margin",3,"tuiHint","pseudoPressed","click",4,"ngIf"],["tuiIconButton","","type","button","size","s","icon","tuiIconItalicLarge","appearance","icon","class","button button_margin",3,"tuiHint","pseudoPressed","click",4,"ngIf"],["tuiIconButton","","type","button","size","s","icon","tuiIconUnderlineLarge","appearance","icon","class","button button_margin",3,"tuiHint","pseudoPressed","click",4,"ngIf"],["tuiIconButton","","type","button","size","s","icon","tuiIconStrikeThroughLarge","appearance","icon","class","button button_margin",3,"tuiHint","pseudoPressed","click",4,"ngIf"],["tuiIconButton","","type","button","size","s","icon","tuiIconBoldLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","pseudoPressed","click"],["tuiIconButton","","type","button","size","s","icon","tuiIconItalicLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","pseudoPressed","click"],["tuiIconButton","","type","button","size","s","icon","tuiIconUnderlineLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","pseudoPressed","click"],["tuiIconButton","","type","button","size","s","icon","tuiIconStrikeThroughLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","pseudoPressed","click"],["align",""],["tuiIconButton","","type","button","size","s","icon","tuiIconAlignLeftLarge","appearance","icon","tuiHintDirection","top-left",1,"button",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent"],["button","","alignBtn",""],["alignDropdown",""],["tuiIconButton","","type","button","size","s","icon","tuiIconAlignLeftLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","click"],["tuiIconButton","","type","button","size","s","icon","tuiIconAlignCenterLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","click"],["tuiIconButton","","type","button","size","s","icon","tuiIconAlignRightLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","click"],["tuiIconButton","","type","button","size","s","icon","tuiIconAlignJustifyLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","click"],["list",""],["tuiIconButton","","type","button","size","s","icon","tuiIconViewListLarge","appearance","icon","tuiHintDirection","top-left",1,"button",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent"],["button","","listBtn",""],["listDropdown",""],["tuiIconButton","","type","button","size","s","icon","tuiIconViewListLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","pseudoPressed","click"],["tuiIconButton","","type","button","size","s","icon","tuiIconOLLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","pseudoPressed","click"],["tuiIconButton","","type","button","size","s","icon","tuiIconIndentLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","disabled","click"],["tuiIconButton","","type","button","size","s","icon","tuiIconOutdentLarge","appearance","icon",1,"button","button_margin",3,"tuiHint","disabled","click"],["tuiIconButton","","type","button","size","s","icon","tuiIconQuoteLarge","appearance","icon","tuiHintDirection","top-left",1,"button","button_margin",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","disabled","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button","","quoteBtn",""],[1,"wrapper",3,"canOpen","content"],["link",""],["tuiIconButton","","type","button","size","s","icon","tuiIconLinkLarge","appearance","icon","tuiHintDirection","top-left",1,"button",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button","","linkBtn",""],["linkDropdown",""],[3,"addLink","removeLink"],["tuiIconButton","","type","button","size","s","icon","tuiIconAttachLarge","appearance","icon","tuiHintDirection","top-left",1,"button","button_margin",3,"tuiHint","tuiHintId","tuiDescribedBy","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button","","attachBtn",""],["tuiIconButton","","type","button","size","s","icon","tuiIconSubscriptLarge","appearance","icon","class","button button_margin","tuiHintDirection","top-left",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click",4,"ngIf"],["tuiIconButton","","type","button","size","s","icon","tuiIconSuperscriptLarge","appearance","icon","class","button button_margin","tuiHintDirection","top-left",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click",4,"ngIf"],["tuiIconButton","","type","button","size","s","icon","tuiIconSubscriptLarge","appearance","icon","tuiHintDirection","top-left",1,"button","button_margin",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button","","subBtn",""],["tuiIconButton","","type","button","size","s","icon","tuiIconSuperscriptLarge","appearance","icon","tuiHintDirection","top-left",1,"button","button_margin",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button","","supBtn",""],["class","wrapper",3,"content","tuiDropdownMaxHeight",4,"ngIf"],[1,"wrapper",3,"content","tuiDropdownMaxHeight"],["color",""],["tuiIconButton","","type","button","size","s","icon","tuiIconColorLarge","appearance","icon","tuiHintDirection","top-left",1,"button",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent"],["button","","colorBtn",""],[1,"plate"],["colorDropdown",""],[1,"color-picker",3,"tuiActiveZoneParent","colors","color","colorChange"],["hilite",""],["tuiIconButton","","type","button","size","s","tuiHintDirection","top-left","appearance","icon","icon","tuiIconHiliteLarge",1,"button",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent"],["button","","hiliteBtn",""],["class","plate",3,"background",4,"ngIf"],["hiliteDropdown",""],["tuiIconButton","","type","button","size","s","icon","tuiIconTeXLarge","class","button","appearance","icon","tuiHintDirection","top-left",3,"tuiHint","tuiHintId","tuiDescribedBy","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click",4,"ngIf"],["class","wrapper",4,"ngIf"],["tuiIconButton","","type","button","size","s","icon","tuiIconHrLarge","class","button button_margin","appearance","icon","tuiHintDirection","top-left",3,"tuiHint","tuiHintId","tuiDescribedBy","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click",4,"ngIf"],["codes",""],["tuiIconButton","","type","button","size","s","icon","tuiIconCodeLarge","appearance","icon","tuiHintDirection","top-left",1,"button",3,"tuiHint","tuiHintId","tuiDescribedBy","pseudoPressed","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent"],["button","","codeBtn",""],["codesDropdown",""],["tuiOption","",3,"click",4,"ngFor","ngForOf"],["tuiIconButton","","type","button","size","s","icon","tuiIconTeXLarge","appearance","icon","tuiHintDirection","top-left",1,"button",3,"tuiHint","tuiHintId","tuiDescribedBy","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button","","texBtn",""],[1,"wrapper"],["type","file","accept","image/*",1,"image",3,"tuiFocusable","change"],["image",""],["tuiIconButton","","type","button","size","s","icon","tuiIconImgLarge","appearance","icon","tuiHintDirection","top-left",1,"button",3,"tuiHint","id","tuiHintId","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button",""],["tuiIconButton","","type","button","size","s","icon","tuiIconHrLarge","appearance","icon","tuiHintDirection","top-left",1,"button","button_margin",3,"tuiHint","tuiHintId","tuiDescribedBy","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button","","hrBtn",""],["tuiIconButton","","type","button","size","s","icon","tuiIconClearFormatLarge","appearance","icon","tuiHintDirection","top-left",1,"button","button_margin",3,"tuiHint","tuiHintId","tuiDescribedBy","focusable","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","click"],["button","","clearBtn",""]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275listener"]("focus",(function(){return t.onTopFocus()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](1,"div",0),r["\u0275\u0275listener"]("focus",(function(){return t.onBottomFocus()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](2,P,7,10,"div",1),r["\u0275\u0275template"](3,T,8,6,"div",1),r["\u0275\u0275template"](4,Z,7,6,"div",1),r["\u0275\u0275template"](5,$,3,2,"div",1),r["\u0275\u0275template"](6,oe,3,2,"div",1),r["\u0275\u0275template"](7,le,5,4,"div",1),r["\u0275\u0275template"](8,de,4,4,"div",1)),2&e&&(r["\u0275\u0275property"]("tuiFocusable",t.focusable),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("tuiFocusable",t.focusable),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.enabled(t.TuiEditorTool.Undo)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.enabled(t.TuiEditorTool.Size)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.firstBigBlockEnabled),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.enabled(t.TuiEditorTool.Sub)||t.enabled(t.TuiEditorTool.Sup)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.enabled(t.TuiEditorTool.Color)||t.enabled(t.TuiEditorTool.Hilite)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.secondBigBlockEnabled),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.enabled(t.TuiEditorTool.Clear)))},directives:[v.a,i.t,b.a,y.b,C.b,x.a,k.a,i.s,w.a,O.a,E.a,I.a,_.a],styles:['[_nghost-%COMP%]{display:flex;padding:.25rem .75rem;overflow:auto}._disabled[_nghost-%COMP%]{pointer-events:none;opacity:var(--tui-disabled-opacity)}.block[_ngcontent-%COMP%]{display:flex;padding:.25rem 0}.block[_ngcontent-%COMP%]:not(:last-child):after{content:"";display:block;margin:0 .25rem;width:.0625rem;background:var(--tui-secondary-active)}.button[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration,.3s);transition-timing-function:ease-in-out}.button[_ngcontent-%COMP%]:hover{background:var(--tui-secondary-hover)}.button_margin[_ngcontent-%COMP%]{margin:0 .25rem}.dropdown[_ngcontent-%COMP%]{padding:.75rem}.wrapper[_ngcontent-%COMP%]{position:relative;margin:0 .25rem}.plate[_ngcontent-%COMP%]{position:absolute;top:1.375rem;left:.25rem;width:1.5rem;height:.25rem}.font[_ngcontent-%COMP%], .plate[_ngcontent-%COMP%]{pointer-events:none}.font[_ngcontent-%COMP%]{padding:.3em 0;outline:none;width:100%}.image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;font-size:0;opacity:0;cursor:pointer}.image[_ngcontent-%COMP%]::-webkit-file-upload-button{display:none}.color-picker[_ngcontent-%COMP%]     tui-color-edit, .color-picker[_ngcontent-%COMP%]     tui-color-picker, .color-picker[_ngcontent-%COMP%]     tui-hosted-dropdown{display:none}'],changeDetection:0}),Object(o.a)([Object(d.tuiDefaultProp)(pe,"Attach and TeX are not yet implemented in Editor")],e.prototype,"tools",void 0),Object(o.a)([Object(d.tuiDefaultProp)()],e.prototype,"colors",void 0),Object(o.a)([Object(d.tuiDefaultProp)()],e.prototype,"editor",void 0),Object(o.a)([Object(d.tuiDefaultProp)()],e.prototype,"disabled",void 0),e}()},"PVE+":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("2kYt"),i=n("EM62"),r=n("ZGpP"),a=n("Qq0t"),u=function(){var e=function(){function e(t,n,o,i,r,a){var u=i.head;if(_classCallCheck(this,e),this.elementRef=t,this.renderer=n,this.sanitizer=o,this.tuiSanitizer=a,!u.querySelector("style[data-tui-editor-socket]")){var c=n.createElement("style");n.setProperty(c,"textContent",r),n.setAttribute(c,"data-tui-editor-socket",""),u.appendChild(c)}}return _createClass(e,[{key:"content",set:function(e){this.renderer.setProperty(this.elementRef.nativeElement,"innerHTML",this.tuiSanitizer?this.tuiSanitizer.sanitize(i.SecurityContext.HTML,e):this.sanitizer.sanitize(i.SecurityContext.HTML,e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.Sanitizer),i["\u0275\u0275directiveInject"](o.e),i["\u0275\u0275directiveInject"](r.b),i["\u0275\u0275directiveInject"](a.TUI_SANITIZER,8))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-editor-socket"]],hostAttrs:[1,"tui-editor-socket"],inputs:{content:"content"},decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e}()},QkJc:function(e,t,n){"use strict";n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return d}));var o,i=n("OXFH"),r=n("2kYt"),a=n("h6ZL"),u=n("hjXH"),c=n("l4xa"),s=n("Qq0t"),l=n("EM62"),d=((o=function e(){_classCallCheck(this,e)}).\u0275mod=l["\u0275\u0275defineNgModule"]({type:o}),o.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(e){return new(e||o)},imports:[[r.c,s.TuiHintModule,c.TuiFocusableModule,s.TuiButtonModule,s.TuiHostedDropdownModule,u.b,s.TuiDescribedByModule,s.TuiDataListModule,a.a,c.TuiActiveZoneModule,s.TuiDropdownControllerModule]]}),o)},RZBz:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var o=n("D57K"),i=n("EM62"),r=n("e4iD"),a=n("ZGpP"),u=n("qfHc"),c=n("l4xa"),s=n("8RbE"),l=n("q7Lq"),d=n("zV1d"),p=n("2kYt"),f=n("x/Ht"),h=n("ONKv"),m=n("cVyY"),g=n("xcN3"),v=n("deU2"),b=n("fHzR"),y=n("tNxS"),C=n("3FOu"),x=n("Kw97"),k=n("UeI1");function w(e,t){if(1&e&&i["\u0275\u0275element"](0,"tui-svg",9),2&e){i["\u0275\u0275nextContext"]();var n=i["\u0275\u0275reference"](1);i["\u0275\u0275classProp"]("arrow_rotated",n.open)}}function O(e,t){1&e&&i["\u0275\u0275element"](0,"tui-svg",14)}function E(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",12),i["\u0275\u0275listener"]("keydown.enter.prevent",(function(){i["\u0275\u0275restoreView"](n);var e=t.$implicit,o=i["\u0275\u0275nextContext"](2),r=i["\u0275\u0275reference"](1);return o.onModeSelect(e,r)}))("keydown.space.prevent",(function(){i["\u0275\u0275restoreView"](n);var e=t.$implicit,o=i["\u0275\u0275nextContext"](2),r=i["\u0275\u0275reference"](1);return o.onModeSelect(e,r)}))("click",(function(){i["\u0275\u0275restoreView"](n);var e=t.$implicit,o=i["\u0275\u0275nextContext"](2),r=i["\u0275\u0275reference"](1);return o.onModeSelect(e,r)})),i["\u0275\u0275text"](1),i["\u0275\u0275template"](2,O,1,0,"tui-svg",13),i["\u0275\u0275elementEnd"]()}if(2&e){var o=t.$implicit,r=i["\u0275\u0275nextContext"](2);i["\u0275\u0275attribute"]("aria-checked",r.isModeActive(o)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",o," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",r.isModeActive(o))}}function I(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tui-data-list",10),i["\u0275\u0275template"](1,E,3,3,"button",11),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",n.modes)}}function _(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",20,21),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](n);var e=t.$implicit;return i["\u0275\u0275nextContext"](2).onDirectionChange(e)})),i["\u0275\u0275elementEnd"]()}if(2&e){var o=t.$implicit,r=i["\u0275\u0275reference"](1),a=i["\u0275\u0275nextContext"](2);i["\u0275\u0275classProp"]("direction_active",a.isDirectionActive(o)),i["\u0275\u0275property"]("icon",a.getIcon(o))("tuiHint",o)("tuiHintId",r.id)("tuiDescribedBy",r.id)}}function S(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275element"](1,"hr",15),i["\u0275\u0275elementStart"](2,"div",16),i["\u0275\u0275elementStart"](3,"tui-linear-multi-picker",17),i["\u0275\u0275listener"]("valueChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onStopsChange(e)}))("indexChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onIndexChange(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",18),i["\u0275\u0275template"](5,_,2,6,"button",19),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){var o=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275styleProp"]("background",o.gradient,i["\u0275\u0275defaultStyleSanitizer"]),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",o.stopsKeys),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",o.buttons)}}function M(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tui-color-edit",22),i["\u0275\u0275listener"]("colorChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onColorChange(e)})),i["\u0275\u0275elementEnd"]()}if(2&e){var o=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("color",o.color)}}function P(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tui-palette",23),i["\u0275\u0275listener"]("selectedColor",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onPalettePick(e)})),i["\u0275\u0275elementEnd"]()}if(2&e){var o=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("colors",o.palette)}}var R=[0,0,0,0],D=[[0,[0,0,0,1]],[1,[255,255,255,1]]],T={"to top right":"tuiIconArrowUpRight","to right":"tuiIconArrowRight","to bottom right":"tuiIconArrowDownRight","to bottom":"tuiIconArrowDown","to bottom left":"tuiIconArrowDownLeft","to left":"tuiIconArrowLeft","to top left":"tuiIconArrowUpLeft","to top":"tuiIconArrowUp"},j=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.sanitizer=t,this.modes=n,this.colors=new Map,this.colorChange=new i.EventEmitter,this.color=[0,0,0,1],this.currentMode=this.modes[0],this.buttons=["to top right","to right","to bottom right","to bottom","to bottom left","to left","to top left","to top"],this.stops=new Map(D),this.currentStop=0,this.direction="to bottom"}return _createClass(e,[{key:"getIcon",value:function(e){return T[e]}},{key:"isModeActive",value:function(e){return this.currentMode===e}},{key:"isDirectionActive",value:function(e){return this.direction===e}},{key:"onPalettePick",value:function(e){this.updateColor(e)}},{key:"onDirectionChange",value:function(e){this.direction=e,this.updateColor(this.getGradient(e))}},{key:"onModeSelect",value:function(e,t){this.currentMode=e,t.open=!1,this.updateColor(e===this.modes[0]?"rgba(".concat(this.color.join(", "),")"):this.getGradient(this.direction))}},{key:"onIndexChange",value:function(e){this.currentStop=this.stopsKeys[e]}},{key:"onColorChange",value:function(e){this.isGradient?(this.stops.set(this.currentStop,e),this.updateColor(this.getGradient(this.direction))):this.updateColor("rgba(".concat(e.join(", "),")"))}},{key:"onStopsChange",value:function(e){var t=this,n=this.stopsKeys.find((function(t){return-1===e.indexOf(t)})),o=e.find((function(e){return-1===t.stopsKeys.indexOf(e)}));void 0===n&&void 0!==o&&this.addStop(o),void 0!==n&&void 0===o&&this.removeStop(n),void 0!==n&&void 0!==o&&this.replaceStop(n,o),this.updateColor(this.getGradient(this.direction))}},{key:"updateColor",value:function(e){this.colorChange.emit(e)}},{key:"getGradient",value:function(e){var t=this;return"linear-gradient(".concat(e,", ").concat(_toConsumableArray(this.stopsKeys).sort().map((function(e){return"rgba(".concat(t.getStop(e).join(", "),") ").concat(100*e,"%")})).join(", "),")")}},{key:"getStop",value:function(e){return this.stops.get(e)||R}},{key:"addStop",value:function(e){var t=this.stopsKeys.reduce((function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t}),this.stopsKeys[0]);this.stops.set(e,this.getStop(t)),this.stops=new Map(this.stops),this.currentStop=e}},{key:"removeStop",value:function(e){this.stops.delete(e),this.stops=new Map(this.stops),this.currentStop=this.stopsKeys[0]}},{key:"replaceStop",value:function(e,t){var n=this,o=this.getStop(e);this.currentStop=t,this.stops=new Map(this.stopsKeys.map((function(i){return i===e?[t,o]:[i,n.getStop(i)]})))}},{key:"getStopsKeys",value:function(e){return Array.from(e.keys())}},{key:"filterPalette",value:function(e,t){var n=new Map(e);return n.forEach((function(e,o){(e.startsWith("linear-gradient")&&!t||!e.startsWith("linear-gradient")&&t)&&n.delete(o)})),n}},{key:"parse",value:function(e){e.startsWith("linear-gradient")?this.parseGradient(e):this.parseColor(e)}},{key:"parseGradient",value:function(e){if(e!==this.getGradient(this.direction)){var t=Object(u.g)(Object(u.b)(e));this.currentMode=this.modes[1],this.direction=t.side,this.currentStop=0,this.stops=new Map(t.stops.length?t.stops.map((function(e){var t=e.color,n=e.position;return[parseFloat(n)/100,Object(u.f)(t)]})):D)}}},{key:"parseColor",value:function(e){this.currentMode=this.modes[0],this.currentStop=0,this.color=Object(u.f)(e)}},{key:"colorSetter",set:function(e){this.parse(e)}},{key:"palette",get:function(){return this.filterPalette(this.colors,this.isGradient)}},{key:"stopsKeys",get:function(){return this.getStopsKeys(this.stops)}},{key:"currentColor",get:function(){return this.isGradient?this.getStop(this.currentStop):this.color}},{key:"gradient",get:function(){return this.sanitizer.bypassSecurityTrustStyle(this.getGradient("to right"))}},{key:"isGradient",get:function(){return this.currentMode===this.modes[1]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.DomSanitizer),i["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-color-selector"]],inputs:{colors:"colors",colorSetter:["color","colorSetter"]},outputs:{colorChange:"colorChange"},features:[i["\u0275\u0275ProvidersFeature"]([s.b])],decls:12,vars:7,consts:[[1,"select",3,"content"],["dropdown",""],["tuiButton","","appearance","","size","s","type","button",3,"iconRight"],["arrow",""],["menu",""],[4,"ngIf"],[3,"color","colorChange"],["tuiGroup","","class","edit",3,"color","colorChange",4,"ngIf"],["class","palette",3,"colors","selectedColor",4,"ngIf"],["src","tuiIconChevronDown",1,"arrow"],["role","menu",1,"menu"],["tuiOption","","size","xs","role","menuitemradio",3,"keydown.enter.prevent","keydown.space.prevent","click",4,"ngFor","ngForOf"],["tuiOption","","size","xs","role","menuitemradio",3,"keydown.enter.prevent","keydown.space.prevent","click"],["class","checkmark","src","tuiIconCheck",4,"ngIf"],["src","tuiIconCheck",1,"checkmark"],[1,"hr"],[1,"wrapper"],[1,"gradient",3,"value","valueChange","indexChange"],[1,"buttons"],["tuiIconButton","","type","button","size","xs","appearance","","class","direction",3,"direction_active","icon","tuiHint","tuiHintId","tuiDescribedBy","click",4,"ngFor","ngForOf"],["tuiIconButton","","type","button","size","xs","appearance","",1,"direction",3,"icon","tuiHint","tuiHintId","tuiDescribedBy","click"],["directionBtn",""],["tuiGroup","",1,"edit",3,"color","colorChange"],[1,"palette",3,"colors","selectedColor"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tui-hosted-dropdown",0,1),i["\u0275\u0275elementStart"](2,"button",2),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,w,1,2,"ng-template",null,3,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](6,I,2,1,"ng-template",null,4,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,S,6,4,"ng-container",5),i["\u0275\u0275elementStart"](9,"tui-color-picker",6),i["\u0275\u0275listener"]("colorChange",(function(e){return t.onColorChange(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,M,1,1,"tui-color-edit",7),i["\u0275\u0275template"](11,P,1,1,"tui-palette",8)),2&e){var n=i["\u0275\u0275reference"](5),o=i["\u0275\u0275reference"](7);i["\u0275\u0275property"]("content",o),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("iconRight",n),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.currentMode," "),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t.isGradient),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("color",t.currentColor),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.isGradient),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.palette.size)}},directives:[l.a,d.a,p.t,f.a,h.a,m.a,p.s,g.a,v.a,b.b,y.b,C.a,x.a,k.a],styles:['[_nghost-%COMP%]{z-index:0;display:block;width:20.25rem}.wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]{position:relative}.wrapper[_ngcontent-%COMP%]{margin:1.25rem;border-radius:.5rem}.wrapper[_ngcontent-%COMP%]:after{box-shadow:inset 0 0 0 1px rgba(0,0,0,.08);pointer-events:none}.wrapper[_ngcontent-%COMP%]:after, .wrapper[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;width:100%;height:100%;content:"";border-radius:inherit}.wrapper[_ngcontent-%COMP%]:before{z-index:-1;background-image:linear-gradient(45deg,var(--tui-base-03) 25%,transparent 0,transparent 75%,var(--tui-base-03) 0,var(--tui-base-03)),linear-gradient(45deg,var(--tui-base-03) 25%,transparent 0,transparent 75%,var(--tui-base-03) 0,var(--tui-base-03));background-size:.375rem .375rem;background-position:0 0,.1875rem .1875rem}.hr[_ngcontent-%COMP%]{height:.0625rem;margin:0 0 0 -.0625rem;border:none;background:var(--tui-base-03)}.gradient[_ngcontent-%COMP%]{margin:0 .5rem;border-radius:inherit}.select[_ngcontent-%COMP%]{margin:.75rem .5rem}.arrow[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration,.3s);transition-timing-function:ease-in-out}.arrow_rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.menu[_ngcontent-%COMP%]{width:11.25rem}.checkmark[_ngcontent-%COMP%]{margin-left:auto;width:1rem;height:1rem}.buttons[_ngcontent-%COMP%]{display:flex;padding:0 .75rem 1.25rem}.direction[_ngcontent-%COMP%]{color:var(--tui-text-02);margin:0 .375rem}.direction[_ngcontent-%COMP%]:hover, .direction_active[_ngcontent-%COMP%]{color:var(--tui-text-01);background:var(--tui-secondary-hover)}.edit[_ngcontent-%COMP%]{margin:1.25rem}.palette[_ngcontent-%COMP%]{box-sizing:border-box;box-shadow:inset 0 1px var(--tui-base-03)}'],changeDetection:0}),Object(o.a)([Object(c.tuiDefaultProp)()],e.prototype,"colors",void 0),Object(o.a)([Object(c.tuiRequiredSetter)()],e.prototype,"colorSetter",null),Object(o.a)([c.tuiPure],e.prototype,"getStopsKeys",null),Object(o.a)([c.tuiPure],e.prototype,"filterPalette",null),e}()},UeI1:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("D57K"),i=n("EM62"),r=n("l4xa"),a=n("2kYt"),u=n("fHzR"),c=n("tNxS");function s(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",1),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](n);var e=t.$implicit;return i["\u0275\u0275nextContext"]().selectedColor.emit(e.value)})),i["\u0275\u0275elementEnd"]()}if(2&e){var o=t.$implicit;i["\u0275\u0275styleProp"]("background",o.value,i["\u0275\u0275defaultStyleSanitizer"]),i["\u0275\u0275property"]("tuiHint",o.key)("tuiHintId",o.key)("tuiDescribedBy",o.key)}}var l=function(){var e=function e(){_classCallCheck(this,e),this.colors=new Map,this.selectedColor=new i.EventEmitter};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-palette"]],inputs:{colors:"colors"},outputs:{selectedColor:"selectedColor"},decls:2,vars:3,consts:[["type","button","class","button",3,"background","tuiHint","tuiHintId","tuiDescribedBy","click",4,"ngFor","ngForOf"],["type","button",1,"button",3,"tuiHint","tuiHintId","tuiDescribedBy","click"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,s,1,5,"button",0),i["\u0275\u0275pipe"](1,"keyvalue")),2&e&&i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](1,1,t.colors))},directives:[a.s,u.b,c.b],pipes:[a.l],styles:["[_nghost-%COMP%]{display:block;padding:.875rem}.button[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;width:1.5625rem;height:1.5625rem;box-sizing:border-box;margin:.375rem;border-radius:var(--tui-radius-m);border:1px solid rgba(0,0,0,.08)}"],changeDetection:0}),Object(o.a)([Object(r.tuiDefaultProp)()],e.prototype,"colors",void 0),e}()},ZGpP:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l}));var o=n("EM62"),i=new o.InjectionToken("tui-color-selector i18n",{factory:function(){return["Solid color","Gradient"]}}),r=new o.InjectionToken("tui-color-selector i18n",{factory:function(){return{undo:"Undo",redo:"Redo",font:"Font",fontStyle:"Font style",fontSize:"fontSize",bold:"Bold",italic:"Italic",underline:"Underline",strikeThrough:"Strike Through",justify:"Justify",justifyLeft:"Justify left",justifyCenter:"Justify center",justifyRight:"Justify right",justifyFull:"Justify full",list:"List",indent:"Indent",outdent:"Outdent",unorderedList:"Unordered list",orderedList:"Ordered list",quote:"Quote",foreColor:"Color",backColor:"Background color",hiliteColor:"hiliteColor",clear:"Clear",link:"Link",attach:"Attach file",tex:"Insert TeX",code:"Code",image:"Insert image",insertHorizontalRule:"Insert horizontal rule",superscript:"Superscript",subscript:"Subscript"}}}),a=n("l4xa"),u=n("YtkY"),c=new o.InjectionToken("Image loader handler",{factory:function(){return function(e){var t=new FileReader,n=Object(a.typedFromEvent)(t,"load").pipe(Object(u.a)((function(){return String(t.result)})));return t.readAsDataURL(e),n}}}),s=n("ssuq"),l=new o.InjectionToken("Styles for Editor",{providedIn:"root",factory:function(){return s.b}})},deU2:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("D57K"),i=n("EM62"),r=n("9cW9"),a=n("l4xa"),u=n("2kYt");function c(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",1),i["\u0275\u0275listener"]("mousedown",(function(){i["\u0275\u0275restoreView"](n);var e=t.index;return i["\u0275\u0275nextContext"]().onMouseDown(e)}))("dblclick",(function(){i["\u0275\u0275restoreView"](n);var e=t.index;return i["\u0275\u0275nextContext"]().onClick(e)})),i["\u0275\u0275elementEnd"]()}2&e&&i["\u0275\u0275styleProp"]("left",100*t.$implicit,"%")}var s=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.value=[0,1],this.valueChange=new i.EventEmitter,this.indexChange=new i.EventEmitter,this.index=NaN,t.subscribe((function(e){var t=_slicedToArray(e,1)[0];n.onPicker(t)}))}return _createClass(e,[{key:"onMouseUp",value:function(){this.index=NaN}},{key:"onMouseDown",value:function(e){this.updateIndex(e)}},{key:"onClick",value:function(e){this.value.length>2&&this.updateValue(this.value.filter((function(t,n){return n!==e})))}},{key:"onPicker",value:function(e){var t=this;isNaN(this.index)&&(this.updateIndex(this.value.length),this.value=[].concat(_toConsumableArray(this.value),[0])),this.value.some((function(n,o){return n===e&&o!==t.index}))||this.updateValue(this.value.map((function(n,o){return o===t.index?e:n})))}},{key:"updateIndex",value:function(e){this.index=e,this.indexChange.emit(e)}},{key:"updateValue",value:function(e){this.value=e,this.valueChange.emit(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-linear-multi-picker"]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("mouseup",(function(){return t.onMouseUp()}),!1,i["\u0275\u0275resolveDocument"])},inputs:{value:"value"},outputs:{valueChange:"valueChange",indexChange:"indexChange"},features:[i["\u0275\u0275ProvidersFeature"]([a.TuiDestroyService,r.a])],decls:1,vars:1,consts:[["class","circle",3,"left","mousedown","dblclick",4,"ngFor","ngForOf"],[1,"circle",3,"mousedown","dblclick"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,c,1,2,"div",0),2&e&&i["\u0275\u0275property"]("ngForOf",t.value)},directives:[u.s],styles:["[_nghost-%COMP%]{position:relative;display:block;height:1rem;box-sizing:border-box}.circle[_ngcontent-%COMP%]{position:absolute;width:1rem;height:1rem;border-radius:100%;margin:0 -.5rem;box-shadow:inset 0 0 0 2px var(--tui-base-01),0 0 0 1px var(--tui-base-03)}"],changeDetection:0}),Object(o.a)([Object(a.tuiDefaultProp)()],e.prototype,"value",void 0),e}()},h6ZL:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n("RZBz");var o,i=n("2kYt"),r=n("ihAW"),a=n("lRP1"),u=n("hn7V"),c=n("ACCV"),s=n("l4xa"),l=n("Qq0t"),d=n("EM62"),p=((o=function e(){_classCallCheck(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:o}),o.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||o)},imports:[[i.c,l.TuiButtonModule,l.TuiHostedDropdownModule,a.a,u.a,l.TuiHintModule,l.TuiDescribedByModule,l.TuiSvgModule,l.TuiDataListModule,s.TuiActiveZoneModule,r.a,l.TuiGroupModule,c.a]]}),o)},hjXH:function(e,t,n){"use strict";n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return d}));var o,i=n("MQ7l"),r=n("2kYt"),a=n("nIj0"),u=n("l4xa"),c=n("Qq0t"),s=n("dvRg"),l=n("EM62"),d=((o=function e(){_classCallCheck(this,e)}).\u0275mod=l["\u0275\u0275defineNgModule"]({type:o}),o.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(e){return new(e||o)},imports:[[r.c,a.FormsModule,u.TuiAutoFocusModule,c.TuiButtonModule,c.TuiSvgModule,c.TuiLinkModule,s.TuiInputInlineModule]]}),o)},hn7V:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n("deU2");var o,i=n("2kYt"),r=n("EM62"),a=((o=function e(){_classCallCheck(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:o}),o.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||o)},imports:[[i.c]]}),o)},ihAW:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n("3FOu");var o,i=n("2kYt"),r=n("nIj0"),a=n("Qq0t"),u=n("dvRg"),c=n("K506"),s=n("EM62"),l=((o=function e(){_classCallCheck(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:o}),o.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||o)},imports:[[i.c,r.FormsModule,c.TextMaskModule,u.TuiValueAccessorModule,u.TuiSelectModule,a.TuiPrimitiveTextfieldModule,a.TuiTextfieldControllerModule,a.TuiDropdownControllerModule,u.TuiInputCountModule,a.TuiDataListModule]]}),o)},"kT+k":function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var o=n("D57K"),i=n("EM62"),r=n("nIj0"),a=n("e4iD"),u=n("qfHc"),c=n("l4xa"),s=n("Qq0t"),l=n("q7Lq"),d=n("luNI"),p=n("CDxv"),f=n("kiPw"),h=n("RZBz"),m=n("4hRd");function g(e,t){if(1&e&&i["\u0275\u0275element"](0,"div",5),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275styleProp"]("background",n.background,i["\u0275\u0275defaultStyleSanitizer"])}}function v(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tui-color-selector",6),i["\u0275\u0275listener"]("colorChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onValueChange(e)})),i["\u0275\u0275elementEnd"]()}if(2&e){var o=t.$implicit,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("tuiActiveZoneParent",o)("colors",r.colors)("color",r.value)}}var b=["*"];function y(e){return(e=e||new s.TuiDropdownControllerDirective).maxHeight=600,e}var C=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,o)).domSanitizer=i,r.colors=new Map,r.open=!1,r}return _createClass(n,[{key:"onClick",value:function(){this.open=!this.open}},{key:"onValueChange",value:function(e){this.updateValue(e)}},{key:"onFocused",value:function(e){this.updateFocused(e)}},{key:"onHovered",value:function(e){this.updateHovered(e)}},{key:"onPressed",value:function(e){this.updatePressed(e)}},{key:"getFallbackValue",value:function(){return"#000000"}},{key:"sanitize",value:function(e,t){return e.startsWith("linear-gradient(")?t.bypassSecurityTrustStyle(Object(u.j)(Object(u.g)(Object(u.b)(e)))):e}},{key:"nativeFocusableElement",get:function(){return this.computedDisabled||!this.textfield?null:this.textfield.nativeFocusableElement}},{key:"focused",get:function(){return!!this.dropdown&&this.dropdown.focused}},{key:"background",get:function(){return this.sanitize(this.value,this.domSanitizer)}}]),n}(c.AbstractTuiControl);return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.NgControl,10),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](a.DomSanitizer))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-input-color"]],viewQuery:function(e,t){var n;1&e&&(i["\u0275\u0275viewQuery"](s.TuiPrimitiveTextfieldComponent,!0),i["\u0275\u0275viewQuery"](s.TuiHostedDropdownComponent,!0)),2&e&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.textfield=n.first),i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.dropdown=n.first))},hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("click",(function(){return t.onClick()}))},inputs:{colors:"colors"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:s.TUI_DROPDOWN_CONTROLLER,deps:[[new i.Optional,s.TuiDropdownControllerDirective]],useFactory:y}]),i["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:b,decls:7,vars:12,consts:[[1,"wrapper",3,"content","open","openChange"],["iconAlign","left","tuiTextfieldAutocomplete","off",1,"textfield",3,"pseudoFocused","pseudoHovered","pseudoPressed","invalid","focusable","nativeId","disabled","readOnly","value","iconContent","valueChange","focusedChange","hoveredChange","pressedChange"],["color",""],["polymorpheus",""],["picker","polymorpheus"],[1,"color"],[3,"tuiActiveZoneParent","colors","color","colorChange"]],template:function(e,t){if(1&e&&(i["\u0275\u0275projectionDef"](),i["\u0275\u0275elementStart"](0,"tui-hosted-dropdown",0),i["\u0275\u0275listener"]("openChange",(function(e){return t.open=e})),i["\u0275\u0275elementStart"](1,"tui-primitive-textfield",1),i["\u0275\u0275listener"]("valueChange",(function(e){return t.onValueChange(e)}))("focusedChange",(function(e){return t.onFocused(e)}))("hoveredChange",(function(e){return t.onHovered(e)}))("pressedChange",(function(e){return t.onPressed(e)})),i["\u0275\u0275projection"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,g,1,2,"ng-template",null,2,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](5,v,1,3,"ng-template",3,4,i["\u0275\u0275templateRefExtractor"])),2&e){var n=i["\u0275\u0275reference"](4),o=i["\u0275\u0275reference"](6);i["\u0275\u0275property"]("content",o)("open",t.open),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("pseudoFocused",t.computedFocused)("pseudoHovered",t.pseudoHovered)("pseudoPressed",t.pseudoPressed)("invalid",t.computedInvalid)("focusable",t.focusable)("nativeId",t.nativeId)("disabled",t.disabled)("readOnly",t.readOnly)("value",t.value)("iconContent",n)}},directives:[l.a,d.a,p.b,f.e,h.a,m.a],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m)}.wrapper[_ngcontent-%COMP%]{display:flex}.textfield[_ngcontent-%COMP%]{border-radius:var(--tui-radius-m)}.color[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;box-shadow:inset 0 0 0 1px var(--tui-base-03-dark);border-radius:.125rem}"],changeDetection:0}),Object(o.a)([Object(c.tuiDefaultProp)()],e.prototype,"colors",void 0),Object(o.a)([c.tuiPure],e.prototype,"sanitize",null),e}()},lRP1:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n("x/Ht");var o,i=n("2kYt"),r=n("N+cQ"),a=n("tBgc"),u=n("EM62"),c=((o=function e(){_classCallCheck(this,e)}).\u0275mod=u["\u0275\u0275defineNgModule"]({type:o}),o.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(e){return new(e||o)},imports:[[i.c,r.a,a.a]]}),o)},qfHc:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"k",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return b}));var o=n("l4xa");function i(e,t,n){var i=n.getBoundingClientRect(),r=i.left,a=i.top,u=i.width,c=i.height;return[Object(o.clamp)(e-r,0,u)/u,Object(o.clamp)(t-a,0,c)/c]}function r(e){return e.substring(0,e.length-1).replace("linear-gradient(","")}function a(e){var t=e.replace("#","").split("").map((function(e,t,n){return 3===n.length?e+e:e})).join("").match(/.{2}/g);return t?t.map((function(e){return Number.parseInt(e,16)})):[0,0,0]}function u(e,t,n){return[c(e,t,n,5),c(e,t,n,3),c(e,t,n,1)]}function c(e,t,n,o){var i=(o+e/60)%6;return Math.round(n-n*t*Math.max(Math.min(i,4-i,1),0))}function s(e,t){if(e.queryCommandSupported("insertHTML"))e.execCommand("insertHTML",!1,t);else{var n=e.getSelection();if(!n)throw new Error("Failed to get document selection");e.execCommand("ms-beginUndoUnit");var o=n.getRangeAt(0),i=o.createContextualFragment(t);o.deleteContents(),o.insertNode(i),e.execCommand("ms-endUndoUnit")}}function l(e,t){var n=e.anchorNode,i=e.focusNode;return!!n&&!!i&&Object(o.isNodeIn)(n,t)&&Object(o.isNodeIn)(i,t)}var d=[0,0,0,1];function p(e){var t=e.replace("#","").replace("rgba(","").replace("rgb(","").replace(")",""),n=t.split(",").map((function(e){return parseFloat(e)}));if(4===n.length)return n;if(3===n.length)return n.concat(1);var o=t.match(new RegExp("(.{"+t.length/3+"})","g"));if(!o)return d;var i=o.map((function(e){return parseInt(t.length%2?e+e:e,16)}));return[i[0]||d[0],i[1]||d[1],i[2]||d[2],void 0===i[3]?d[3]:i[3]]}var f=["\\s*(","(?:","#(?:[a-f0-9]{6}|[a-f0-9]{3})","|","(?:rgb|hsl)","\\(\\s*(?:\\d{1,3}\\s*,\\s*){2}\\d{1,3}\\s*\\)","|","(?:rgba|hsla)","\\(\\s*(?:\\d{1,3}\\s*,\\s*){2}\\d{1,3}\\s*,\\s*\\d*\\.?\\d+\\)","|","[_a-z-][_a-z0-9-]*",")",")","(?:\\s+","(","(?:[+-]?\\d*\\.?\\d+)(?:%|[a-z]+)?","))?","(?:","\\s*,\\s*","\\s*)?"];function h(e){for(var t=new RegExp(f.join(""),"gi"),n=e.startsWith("to")||e.match(/^\d/)?e.substring(e.indexOf(",")+1).trim():e,o=e.startsWith("to")?e.split(",")[0]:"to bottom",i=[],r=t.exec(n);null!==r;)i=i.concat({color:r[1],position:m(r[2],i.length)}),r=t.exec(n);return{stops:i=i.filter((function(e){var t=e.color;return t.startsWith("#")||t.startsWith("rgb")})),side:o}}function m(e,t){var n=1===t?"100%":t+"%";return e&&e.includes("%")?e:n}function g(e,t,n){return[e,t,n].map((function(e){return e.toString(16)})).map((function(e){return 1===e.length?"0"+e:e})).join("")}function v(e,t,n){var o=Math.max(e,t,n),i=o-Math.min(e,t,n),r=i&&(o===e?(t-n)/i:o===t?2+(n-e)/i:4+(e-t)/i);return[60*(r<0?r+6:r),o&&i/o,o]}function b(e){var t=e.stops,n=e.side;return"linear-gradient(".concat(n,", ").concat(t.map((function(e){var t=e.color,n=e.position;return"rgba(".concat(p(t).join(", "),") ").concat(n)})).join(", "),")")}},ssuq:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));var o=new Map([["color-black-300","#333333"],["color-black-200","#666666"],["color-black-100","#909090"],["color-yellow-100","#FFDD2C"],["color-yellow-200","#FCC521"],["color-yellow-300","#FAB618"],["color-gray-100","#f5f5f6"],["color-gray-200","#e7e8ea"],["color-gray-300","#cbcfd3"],["color-gray-400","#959ba4"],["color-gray-500","#79818c"],["color-gray-600","#616871"],["color-light-blue-100","#ecf1f7"],["color-light-blue-200","#e4ebf3"],["color-light-blue-300","#dde4ed"],["color-blue-100","#1771e6"],["color-blue-200","#1464cc"],["color-blue-300","#0953b3"],["color-green-100","#39b54a"],["color-green-200","#2ca53a"],["color-green-300","#168a21"],["color-red-100","#e01f19"],["color-red-200","#d3120e"],["color-red-300","#c40b08"]]),i="\n@import 'https://fonts.googleapis.com/css2?family=Manrope:wght@500;800&display=swap';\n\nbody.tui-editor-socket {\n    margin: 0;\n    overflow: hidden;\n    padding: 0 16px;\n}\n\n.tui-editor-socket {\n    display: block;\n    color: #333;\n    font-size: 15px;\n    font-family: tuiText, 'Manrope', sans-serif;\n    line-height: 24px;\n}\n\n.tui-editor-socket ul,\n.tui-editor-socket ol {\n    list-style-type: none;\n    margin: 16px 16px 16px 24px;\n    padding: 0;\n}\n\n.tui-editor-socket li {\n    margin: 16px 0;\n}\n\n.tui-editor-socket ul li:before {\n    content: '';\n    display: inline-block;\n    width: 8px;\n    height: 8px;\n    border-radius: 100%;\n    margin: 0 14px 1px -22px;\n    background-color: #ffdd2d;\n}\n\n.tui-editor-socket ol {\n    counter-reset: counter;\n}\n\n.tui-editor-socket ol li:before {\n    content: counter(counter) '.';\n    width: 24px;\n    margin: 0 12px 0 -24px;\n    counter-increment: counter;\n    color: #909090;\n}\n\n.tui-editor-socket pre {\n    white-space: pre-wrap;\n    word-break: break-word;\n    border-radius: 4px;\n    margin: 16px 0;\n    padding: 12px 16px;\n    font-family: 'Courier', monospace;\n    color: #666666;\n    background-color: #f5f5f6;\n}\n\n.tui-editor-socket pre + pre {\n    margin-top: -29px;\n    padding-top: 0;\n}\n\n.tui-editor-socket blockquote {\n    margin: 20px 0 20px 24px !important;\n    padding-left: 17px !important;\n    border-left: 1px solid #cbcfd3 !important;\n}\n\n.tui-editor-socket p {\n    margin: 16px 0;\n}\n\n.tui-editor-socket a {\n    color: #3d7ab6;\n    text-decoration: none;\n    outline: none;\n}\n\n.tui-editor-socket a:hover {\n    color: #369;\n}\n\n.tui-editor-socket a:active {\n    color: #29527c;\n}\n\n.tui-editor-socket hr {\n    border: none;\n    border-top: 1px solid #e7e8ea;\n    margin: 16px 0;\n}\n\n.tui-editor-socket font[face='Courier New'] {\n    padding: 4px 8px;\n    border-radius: 4px;\n    background-color: #ecf1f7;\n    display: inline-block;\n    word-break: break-word;\n}\n\n.tui-editor-socket font[size='1'] {\n    font-size: 11px;\n    line-height: 16px;\n}\n\n.tui-editor-socket font[size='2'] {\n    font-size: 13px;\n    line-height: 20px;\n}\n\n.tui-editor-socket font[size='3'] {\n    font-size: 15px;\n    line-height: 24px;\n}\n\n.tui-editor-socket font[size='4'] {\n    font-size: 17px;\n    line-height: 24px;\n}\n\n.tui-editor-socket font[size='5'],\n.tui-editor-socket font[size='6'],\n.tui-editor-socket font[size='7'] {\n    display: block;\n    margin: 32px 0 16px;\n    font-family: var(--tui-font-heading);\n}\n\n.tui-editor-socket font[size='5'] {\n    font-size: 24px;\n    line-height: 28px;\n}\n\n.tui-editor-socket font[size='6'] {\n    font-size: 30px;\n    line-height: 36px;\n}\n\n.tui-editor-socket font[size='7'] {\n    font-size: 40px;\n    line-height: 44px;\n}\n",r=n("IR5z"),a=[r.a.Undo,r.a.Size,r.a.Bold,r.a.Italic,r.a.Underline,r.a.Align,r.a.List,r.a.Quote,r.a.Link,r.a.Color,r.a.Hilite,r.a.Clear,r.a.Strikethrough,r.a.Code,r.a.Img,r.a.HR,r.a.Sup,r.a.Sub]},tBgc:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n("9Zcw");var o,i=n("2kYt"),r=n("EM62"),a=((o=function e(){_classCallCheck(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:o}),o.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||o)},imports:[[i.c]]}),o)},trX1:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var o=n("D57K"),i=n("2kYt"),r=n("EM62"),a=n("nIj0"),u=n("9qw2"),c=n("hjXH"),s=n("QkJc"),l=n("ssuq"),d=n("O7x8"),p=n("l4xa"),f=n("Qq0t"),h=n("g6G6"),m=n("xVbo"),g=n("kuMc"),v=n("HR0p"),b=n("TYom"),y=n("3OZ8"),C=n("2DeP"),x=n("OXFH"),k=n("bPri"),w=n("MQ7l"),O=["focusableElement"];function E(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-toolbar",11),r["\u0275\u0275listener"]("linkAdded",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onAddLink(e)}))("texClicked",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onTex()}))("attachClicked",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onAttach()})),r["\u0275\u0275elementEnd"]()}if(2&e){var o=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("disabled",!o.interactive)("tools",o.tools)("colors",o.colors),r["\u0275\u0275attribute"]("aria-labelledby",o.id)}}function I(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",12),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](n.exampleText)}}function _(e,t){if(1&e&&r["\u0275\u0275element"](0,"div",13),2&e){var n=r["\u0275\u0275nextContext"](),o=r["\u0275\u0275reference"](12);r["\u0275\u0275property"]("tuiDropdownSelection",n.dropdownSelectionHandler)("tuiDropdownContent",o)}}function S(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-edit-link",14),r["\u0275\u0275listener"]("addLink",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onAddLink(e)}))("removeLink",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onRemoveLink()})),r["\u0275\u0275elementEnd"]()}}var M=["*"];function P(e){return e.focusableElement?e.focusableElement.documentRef:null}function R(e){return e.focusableElement&&e.focusableElement.documentRef?new r.ElementRef(e.focusableElement.documentRef.body):null}var D=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,i,r,a,u){var c;return _classCallCheck(this,n),(c=t.call(this,i,a)).documentRef=e,c.exampleText="",c.tools=l.c,c.colors=l.a,c.linkDropdownEnabled=!1,c.isSelectionLink=function(e){var t=e.startContainer,n=e.endContainer;return Object(p.isNodeIn)(t,"a")&&Object(p.isNodeIn)(n,"a")},Object(h.a)(Object(p.typedFromEvent)(o,"mousedown"),Object(p.typedFromEvent)(o,"focusin")).pipe(Object(m.a)((function(e){var t=e.target;return c.linkDropdownEnabled&&t instanceof Node&&!r.nativeElement.contains(t)&&!(c.editLink&&c.editLink.nativeElement.contains(t))})),Object(p.watch)(a),Object(g.a)(u)).subscribe((function(){c.linkDropdownEnabled=!1})),c}return _createClass(n,[{key:"ngOnDestroy",value:function(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}},{key:"onMouseDown",value:function(e){this.focusableElement&&this.focusableElement.nativeFocusableElement&&e.target instanceof Element&&!this.focusableElement.nativeFocusableElement.contains(e.target)&&!Object(p.getClosestElement)(e.target,"button")&&(e.preventDefault(),Object(p.setNativeFocused)(this.focusableElement.nativeFocusableElement))}},{key:"onModelChange",value:function(e){this.updateValue("<br>"===e.trim()?"":e)}},{key:"onHovered",value:function(e){this.updateHovered(e)}},{key:"onFocusedChange",value:function(e){this.updateFocused(e),this.linkDropdownEnabled=e||this.linkDropdownEnabled}},{key:"onAddLink",value:function(e){this.selectClosest("a"),this.computedDocument.execCommand("createLink",!1,"TEMP_URL");var t=this.computedDocument.querySelector('[href="TEMP_URL"]');t&&(t.target="_blank",t.rel="_noopener",t.href=e,this.computedDocument.dispatchEvent(new Event("input")))}},{key:"onRemoveLink",value:function(){var e=this;this.selectClosest("a"),this.computedDocument.execCommand("unlink"),this.linkDropdownEnabled=!1,setTimeout((function(){e.linkDropdownEnabled=!0}))}},{key:"onAttach",value:function(){p.tuiAssert.assert(!1,"Attach is not implemented yet")}},{key:"onTex",value:function(){p.tuiAssert.assert(!1,"Attach is not implemented yet")}},{key:"getFallbackValue",value:function(){return""}},{key:"selectClosest",value:function(e){Object(p.setNativeFocused)(this.computedDocument.body);var t=this.computedDocument.getSelection();if(t){var n=t.getRangeAt(0),o=n.commonAncestorContainer,i=o.nodeType===Node.TEXT_NODE?o.parentElement:o;if(i){var r=Object(p.getClosestElement)(i,e);r&&n.selectNode(r)}}}},{key:"nativeFocusableElement",get:function(){return this.computedDisabled||!this.focusableElement?null:this.focusableElement.nativeFocusableElement}},{key:"focused",get:function(){return!!this.focusableElement&&this.focusableElement.focused||!!this.toolbar&&this.toolbar.focused||!!this.editLink&&Object(p.isNativeFocusedIn)(this.editLink.nativeElement)}},{key:"dropdownSelectionHandler",get:function(){return this.linkDropdownEnabled?this.isSelectionLink:p.ALWAYS_FALSE_HANDLER}},{key:"initialized",get:function(){return!!this.focusableElement&&!!this.focusableElement.documentRef&&"complete"===this.focusableElement.documentRef.readyState}},{key:"interactive",get:function(){return!this.readOnly&&!this.computedDisabled}},{key:"hasExampleText",get:function(){return!!this.exampleText&&this.computedFocused&&!this.hasValue&&!this.readOnly}},{key:"placeholderRaised",get:function(){return this.computedFocused&&!this.readOnly||this.hasValue}},{key:"computedDocument",get:function(){return this.focusableElement?this.focusableElement.computedDocument:this.documentRef}},{key:"hasValue",get:function(){return!!this.value}}]),n}(p.AbstractTuiControl);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](i.e),r["\u0275\u0275directiveInject"](u.h),r["\u0275\u0275directiveInject"](a.NgControl,10),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef),r["\u0275\u0275directiveInject"](p.TuiDestroyService))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-editor"]],viewQuery:function(e,t){var n;1&e&&(r["\u0275\u0275viewQuery"](O,!0,d.a),r["\u0275\u0275viewQuery"](s.a,!0),r["\u0275\u0275viewQuery"](c.a,!0,r.ElementRef)),2&e&&(r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.focusableElement=n.first),r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.toolbar=n.first),r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.editLink=n.first))},inputs:{exampleText:"exampleText",tools:"tools",colors:"colors"},features:[r["\u0275\u0275ProvidersFeature"]([p.TuiDestroyService,{provide:p.TUI_FOCUSABLE_ITEM_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return e}))},{provide:f.TUI_DOCUMENT_OR_SHADOW_ROOT,deps:[Object(r.forwardRef)((function(){return e}))],useFactory:P},{provide:f.TUI_ELEMENT_REF,deps:[Object(r.forwardRef)((function(){return e}))],useFactory:R}]),r["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:M,decls:13,vars:15,consts:[["appearance","textfield",1,"outline",3,"readOnly","disabled","focused","hovered","invalid"],[1,"wrapper",3,"tuiHoveredChange","mousedown"],[1,"toolbar-wrapper"],[3,"disabled","tools","colors","linkAdded","texClicked","attachClicked",4,"ngIf"],[1,"placeholder",3,"id"],["class","example-text",4,"ngIf"],[1,"scrollbar"],["tuiDropdownLimitWidth","auto","tuiDropdownSelectionPosition","tag",3,"tuiDropdownSelection","tuiDropdownContent",4,"ngIf"],["tuiDesignMode","",1,"editor",3,"exampleText","disabled","ngModel","ngModelChange","focusedChange"],["focusableElement","tuiDesignMode"],["dropdown",""],[3,"disabled","tools","colors","linkAdded","texClicked","attachClicked"],[1,"example-text"],["tuiDropdownLimitWidth","auto","tuiDropdownSelectionPosition","tag",3,"tuiDropdownSelection","tuiDropdownContent"],[3,"addLink","removeLink"]],template:function(e,t){1&e&&(r["\u0275\u0275projectionDef"](),r["\u0275\u0275element"](0,"tui-wrapper",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275listener"]("tuiHoveredChange",(function(e){return t.onHovered(e)}))("mousedown",(function(e){return t.onMouseDown(e)})),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275template"](3,E,1,4,"tui-toolbar",3),r["\u0275\u0275elementStart"](4,"div",4),r["\u0275\u0275projection"](5),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](6,I,2,1,"div",5),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"tui-scrollbar",6),r["\u0275\u0275template"](8,_,1,2,"div",7),r["\u0275\u0275elementStart"](9,"iframe",8,9),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.onModelChange(e)}))("focusedChange",(function(e){return t.onFocusedChange(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](11,S,1,0,"ng-template",null,10,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("readOnly",t.readOnly)("disabled",t.disabled)("focused",t.computedFocused)("hovered",t.computedHovered)("invalid",t.computedInvalid),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.initialized),r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("placeholder_raised",t.placeholderRaised),r["\u0275\u0275property"]("id",t.id),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.hasExampleText),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.initialized),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("exampleText",t.exampleText)("disabled",!t.interactive)("ngModel",t.value),r["\u0275\u0275attribute"]("aria-labelledby",t.id))},directives:[v.a,b.a,i.t,y.a,C.a,a.NgControlStatus,a.NgModel,x.a,k.a,w.a],styles:["[_nghost-%COMP%]{position:relative;z-index:0;font:var(--tui-font-text-m);display:block}.outline[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:var(--tui-radius-m);pointer-events:none}.outline[_ngcontent-%COMP%], .toolbar-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.toolbar-wrapper[_ngcontent-%COMP%]{right:0;z-index:1}.invisible[_ngcontent-%COMP%]{height:0;visibility:hidden}.wrapper[_ngcontent-%COMP%]{position:relative;height:100%;max-height:inherit;min-height:10rem;cursor:text;overflow:hidden}.scrollbar[_ngcontent-%COMP%]{display:flex;max-height:inherit;border-top:74px solid transparent;border-bottom:1px solid transparent;box-sizing:border-box}.link[_ngcontent-%COMP%]{padding:.75rem 1rem}.placeholder[_ngcontent-%COMP%]{transition-property:transform,min-width,color,letter-spacing;transition-duration:var(--tui-duration,.3s);transition-timing-function:ease-in-out;font:var(--tui-font-text-s);color:var(--tui-text-01);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;width:100%;height:1.25rem;font-size:.8125rem;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;color:var(--tui-text-02);transform-origin:left;letter-spacing:normal;text-transform:none;position:absolute;left:1rem;bottom:-2.25rem;width:95%;font-size:.9375rem}.placeholder_raised[_ngcontent-%COMP%]{width:114%;transform:translateY(-.625rem) scale(.87)}[data-tui-host-size=m][_nghost-%COMP%]   .placeholder_raised[_ngcontent-%COMP%]{width:118%;transform:translateY(-.5rem) scale(.85);letter-spacing:.025rem}._invalid[_nghost-%COMP%]:not(._focused)._hovered   .placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused)   .placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill)}[data-mode=onDark]._invalid[_nghost-%COMP%]:not(._focused)._hovered   .placeholder_raised[_ngcontent-%COMP%], [data-mode=onDark]._invalid[_nghost-%COMP%]:not(._focused)   .placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill-night)}._focused[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%], [data-tui-host-size=l]._focused._label-outside[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%], [data-tui-host-size=m]._focused._label-outside[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:var(--tui-text-03)}[data-tui-host-size=l][_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{font-size:.9375rem}[data-tui-host-size=l]._focused[_nghost-%COMP%]:not(._label-outside)   .placeholder[_ngcontent-%COMP%], [data-tui-host-size=m]._focused[_nghost-%COMP%]:not(._label-outside)   .placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01)}[data-mode=onDark][_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}[data-tui-host-size=l][data-mode=onDark]._focused[_nghost-%COMP%]:not(._label-outside)   .placeholder[_ngcontent-%COMP%], [data-tui-host-size=m][data-mode=onDark]._focused[_nghost-%COMP%]:not(._label-outside)   .placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01-night)}[data-mode=onDark]._focused[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%], [data-tui-host-size=l][data-mode=onDark]._focused._label-outside[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%], [data-tui-host-size=m][data-mode=onDark]._focused._label-outside[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}.placeholder_raised[_ngcontent-%COMP%]{width:110%}.example-text[_ngcontent-%COMP%]{position:absolute;left:1rem;bottom:-3.125rem;color:var(--tui-base-06);letter-spacing:normal;text-transform:none}.example-text_light[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}.example-text_dark[_ngcontent-%COMP%]{color:var(--tui-text-03)}.editor[_ngcontent-%COMP%]{display:block;width:100%;min-height:5.375rem;border:none}"],changeDetection:0}),Object(o.a)([Object(p.tuiDefaultProp)()],e.prototype,"exampleText",void 0),Object(o.a)([Object(p.tuiDefaultProp)()],e.prototype,"tools",void 0),Object(o.a)([Object(p.tuiDefaultProp)()],e.prototype,"colors",void 0),e}()},vgRF:function(e,t,n){"use strict";n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return r.a})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return C})),n.d(t,"g",(function(){return s.b})),n.d(t,"h",(function(){return x.a})),n.d(t,"i",(function(){return x.c})),n.d(t,"e",(function(){return k.a})),n("ihAW");var o,i=n("lRP1"),r=n("h6ZL"),a=n("hjXH"),u=(n("trX1"),n("2kYt")),c=n("nIj0"),s=n("QkJc"),l=n("O7x8"),d=n("l4xa"),p=n("Qq0t"),f=n("dvRg"),h=n("EM62"),m=((o=function e(){_classCallCheck(this,e)}).\u0275mod=h["\u0275\u0275defineNgModule"]({type:o}),o.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(e){return new(e||o)},imports:[[u.c,c.FormsModule,d.TuiLetModule,d.TuiHoveredModule,d.TuiActiveZoneModule,p.TuiWrapperModule,p.TuiScrollbarModule,p.TuiLinkModule,p.TuiButtonModule,f.TuiDropdownSelectionModule,s.b,a.b,l.b]]}),o);n("PVE+");var g,v=((g=function e(){_classCallCheck(this,e)}).\u0275mod=h["\u0275\u0275defineNgModule"]({type:g}),g.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(e){return new(e||g)}}),g);n("N+cQ"),n("kT+k");var b,y=n("kiPw"),C=((b=function e(){_classCallCheck(this,e)}).\u0275mod=h["\u0275\u0275defineNgModule"]({type:b}),b.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(e){return new(e||b)},imports:[[u.c,p.TuiPrimitiveTextfieldModule,p.TuiTextfieldControllerModule,p.TuiHintControllerModule,y.c,p.TuiHostedDropdownModule,r.a,d.TuiActiveZoneModule]]}),b);n("hn7V"),n("tBgc"),n("ACCV");var x=n("ssuq"),k=n("IR5z");n("ZGpP"),n("qfHc")},"x/Ht":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("D57K"),i=n("EM62"),r=n("e4iD"),a=n("qfHc"),u=n("l4xa"),c=n("JuXl"),s=n("9Zcw"),l=function(){var e=function(){function e(t){_classCallCheck(this,e),this.sanitizer=t,this.colorChange=new i.EventEmitter,this.point=[0,1],this.hue=0,this.opacity=1}return _createClass(e,[{key:"onPointChange",value:function(e){this.point=e,this.updateColor()}},{key:"onHueChange",value:function(e){this.hue=e,this.updateColor()}},{key:"onOpacityChange",value:function(e){this.opacity=Object(u.round)(e,2),this.updateColor()}},{key:"getCurrentColor",value:function(e,t){return Object(a.d)(360*e,t[0],255*(1-t[1]))}},{key:"updateColor",value:function(){this.colorChange.emit([this.currentColor[0],this.currentColor[1],this.currentColor[2],this.opacity])}},{key:"color",set:function(e){if(!this.currentColor.every((function(t,n){return t===e[n]}))||e[3]!==this.opacity){var t=_slicedToArray(Object(a.i)(e[0],e[1],e[2]),3),n=t[0],o=t[1],i=t[2];this.opacity=e[3],this.hue=n/360,this.point=[o,1-i/255]}}},{key:"currentColor",get:function(){return this.getCurrentColor(this.hue,this.point)}},{key:"base",get:function(){return"rgb(".concat(Object(a.d)(360*this.hue,1,255),")")}},{key:"gradient",get:function(){return this.sanitizer.bypassSecurityTrustStyle("linear-gradient(to right, rgba(".concat(this.currentColor.join(","),", 0), rgb(").concat(this.currentColor.join(","),"))"))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.DomSanitizer))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-color-picker"]],inputs:{color:"color"},outputs:{colorChange:"colorChange"},decls:5,vars:7,consts:[[1,"flat",3,"value","valueChange"],[1,"wrapper","wrapper_hue"],[1,"hue",3,"value","valueChange"],[1,"wrapper","wrapper_opacity"],[1,"opacity",3,"value","valueChange"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"tui-flat-picker",0),i["\u0275\u0275listener"]("valueChange",(function(e){return t.onPointChange(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"tui-linear-picker",2),i["\u0275\u0275listener"]("valueChange",(function(e){return t.onHueChange(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"tui-linear-picker",4),i["\u0275\u0275listener"]("valueChange",(function(e){return t.onOpacityChange(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275styleProp"]("background-color",t.base),i["\u0275\u0275property"]("value",t.point),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.hue),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("background",t.gradient,i["\u0275\u0275defaultStyleSanitizer"]),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",t.opacity))},directives:[c.a,s.a],styles:['[_nghost-%COMP%]{position:relative;z-index:0;display:block}.flat[_ngcontent-%COMP%]{height:14rem;background:linear-gradient(transparent,#000),linear-gradient(90deg,#fff,hsla(0,0%,100%,0));margin-bottom:.25rem;overflow:hidden}.wrapper[_ngcontent-%COMP%]{position:relative;margin:1rem 1.25rem;border-radius:.5rem}.wrapper[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:"";box-shadow:inset 0 0 0 1px rgba(0,0,0,.08);pointer-events:none;border-radius:inherit}.wrapper_hue[_ngcontent-%COMP%]{background:red}.wrapper_opacity[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;width:100%;height:100%;content:"";z-index:-1;background-image:linear-gradient(45deg,var(--tui-base-03) 25%,transparent 0,transparent 75%,var(--tui-base-03) 0,var(--tui-base-03)),linear-gradient(45deg,var(--tui-base-03) 25%,transparent 0,transparent 75%,var(--tui-base-03) 0,var(--tui-base-03));background-size:.375rem .375rem;background-position:0 0,.1875rem .1875rem;border-radius:inherit}.hue[_ngcontent-%COMP%]{background:linear-gradient(90deg,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}.hue[_ngcontent-%COMP%], .opacity[_ngcontent-%COMP%]{border-radius:inherit;margin:0 .5rem}'],changeDetection:0}),Object(o.a)([Object(u.tuiDefaultProp)()],e.prototype,"color",null),Object(o.a)([u.tuiPure],e.prototype,"getCurrentColor",null),e}()}}]);